<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="对象包装类原形原型链, Sunny">
    <meta name="description" content="对象用已学的知识点，描述一下你心目中的对象
var mrDeng &amp;#x3D; &amp;#123;
    name : &amp;quot;mrDeng&amp;quot;,
    age : 40,
    sex : &amp;quot;male&amp;quot;,
">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>对象包装类原形原型链 | Sunny</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Sunny</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Sunny</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/20.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">对象包装类原形原型链</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Front-end-article/">
                                <span class="chip bg-color">Front end article</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-12-20
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><p>用已学的知识点，描述一下你心目中的对象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var mrDeng &#x3D; &#123;
    name : &quot;mrDeng&quot;,
    age : 40,
    sex : &quot;male&quot;,
    health : 100,&#x2F;&#x2F;可在控制台更改
    smoke : function () &#123;
        console.log(&#39;I am smoking&#39;);
        mrDeng.health --;
    &#125;,
    drink : function () &#123;
        console.log(&#39;I am drink&#39;);
        mrDeng.health ++;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>改进 第一人称：this</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var mrDeng &#x3D; &#123;
    name : &quot;mrDeng&quot;,   千万别是等于号
    age : 40,
    sex : &quot;male&quot;,
    health : 100,&#x2F;&#x2F;可在控制台更改
    smoke : function () &#123;
        console.log(&#39;I am smoking&#39;);
        this.health --;
    &#125;,
        drink : function () &#123;
            console.log(&#39;I am drink&#39;);
            this.health ++;
        &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="1-属性的增、删、改、查"><a href="#1-属性的增、删、改、查" class="headerlink" title="1.属性的增、删、改、查"></a>1.属性的增、删、改、查</h2><p>增</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">drink:function()&#123;
    console.log(&#39;I am drinking&#39;);
    this.health ++;
&#125;
meDeng.wife &#x3D; &quot;xiaowang&quot;;
&#x2F;&#x2F; console.log(mrDeng.wife &#x3D; &quot;xiaoliu&quot;);
&#x2F;&#x2F; console.log(mrDeng);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>改</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(mrDeng);
console.log(mrDeng.sex &#x3D; &quot;male&quot;);
console.log(mrDeng.sex);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>删 delete + 属性</p>
<p><strong>当一个变量没有声明就是用报错，对象的属性没有就访问打印 undefined，不会报错</strong></p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var deng &#x3D; &#123;
    prepareWife : &quot;xiaowang&quot;,
    name : &quot;laodeng&quot;,
    sex : &quot;male&quot;,
    gf : &quot;xiaoliu&quot;,
    wife : &quot;&quot;,
    divorce : function () &#123;
        delete this.wife;
        this.gf &#x3D; this.PrepareWife;

    &#125;,
    getMarried : function () &#123;
        this.wife &#x3D; this.gf;

    &#125;,
    changePrepareWife : function (someone)&#123;
        this.PrepareWife &#x3D; someone;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-对象的创建方法"><a href="#2-对象的创建方法" class="headerlink" title="2.对象的创建方法"></a>2.对象的创建方法</h2><p>1.var obj = {} 叫 plainObject 对象字面量/对象直接量</p>
<p>2.构造函数</p>
<p>（1） 系统自带的构造函数 new Object</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; new Object();
obj.name &#x3D; &#39;abc&#39;;
obj.sex &#x3D; &#39;female&#39;;
obj.say &#x3D; function()&#123;
&#125;
var obj &#x3D; &#123;
    name : &quot;&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>系统提供的：new Object();Array();Number();Boolean();Date();</p>
<p>（2） 自定义</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Car()&#123;&#x2F;&#x2F;方便使用-人为的，构造函数特点：大驼峰式命名规则，只要是单词，首字母大写（小驼峰式：第一个外的首字母大写）
    this.name &#x3D; &quot;BMW&quot;;
    this.height &#x3D; &quot;1400&quot;;
    this.lang &#x3D; &quot;4900&quot;;
    this.weight &#x3D; 1000;
    this.health &#x3D; 100;
    this.run &#x3D; function ()&#123;
        this.health --;
    &#125;
&#125;
var car &#x3D; new Car();&#x2F;&#x2F;每个都一样，但是每个都独立
var car1 &#x3D; new Car();&#x2F;&#x2F;不是一个人，不互通
console.log(car.run());
console.log(car1.health);
console.log(car.health);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>demo</p>
<p>实现自己选配颜色</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Car(color)&#123;
    this.color &#x3D; color;
    this.name &#x3D; &quot;BMW&quot;;
    this.height &#x3D; &quot;1400&quot;;
    this.lang &#x3D; &quot;4900&quot;;
    this.weight &#x3D; 1000;
    this.health &#x3D; 100;
    this.run &#x3D; function ()&#123;
        this.health --;
    &#125;
&#125;
var car &#x3D; new Car(&#39;red&#39;);
var car1 &#x3D; new Car(&#39;green&#39;);
console.log(car&#x2F;car1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Student(name,age,sex) &#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
    this.grade &#x3D; 2017;
&#125;
var student &#x3D; new Student(&#39;zhangsan&#39;,18,&#39;male&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意事项</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; new Object()&#123;
    obj.name &#x3D; &#39;abc&#39;;
    obj.sex &#x3D; &#39;female&#39;;
    obj.say &#x3D; function()&#123;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &quot;&quot;&#x2F;&#x2F;冒号
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>构造函数内部原理</p>
</blockquote>
<p>有 new 则发生三步</p>
<p>1.在函数体最前面隐式的加上 var this = {} 2.执行 this.xxx = xxx; 3.隐式的返回 this</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Student(name,age,sex) &#123;
    &#x2F;&#x2F;var this &#x3D; &#123;
    &#x2F;&#x2F; name : &quot;&quot;
    &#x2F;&#x2F; age :
    &#x2F;&#x2F; &#125;;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
    this.grade &#x3D; 2017;
    &#x2F;&#x2F; return this;
&#125;
var student &#x3D; new Student(&#39;zhangsan&#39;,18,&#39;male&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person(name, height)&#123;
    &#x2F;&#x2F; var this &#x3D; &#123;&#125;
    this.name &#x3D; name;
    this.height &#x3D; height;
    this.say &#x3D; function ()&#123;
        console.log(this.say);
    &#125;
    &#x2F;&#x2F; return this;
&#125;
console.log(new Person(&#39;xiaoliu&#39;,180).name);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>模拟构造函数</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person(name, height)&#123;
    var that &#x3D; &#123;&#125;;
    that.name &#x3D; name;
    that.height &#x3D; height;
    return that;
&#125;
var person &#x3D; new Person(&#39;xiaowang&#39;, 180);
var person1 &#x3D; new Person(&#39;xiaozhang&#39;,175);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>冷门知识</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person(name, height)&#123;
    var this &#x3D; &#123;&#125;;
    this.name &#x3D; name;
    this.height &#x3D; height;
    this.say &#x3D; function	()&#123;
        console.log(this.say);
    &#125;
    return &#123;&#125;;&#x2F;&#x2F;显示返回空对象,so person很person1都返回空对象
    &#x2F;&#x2F; return this;
&#125;
var person &#x3D; new Person(&#39;xiaowang&#39;, 180);
var person1 &#x3D; new Person(&#39;xiaozhang&#39;,175);
&#x2F;&#x2F; 但是return一个原始值不允许<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Object.create(原型)方法</p>
<h1 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h1><h2 id="1-小知识"><a href="#1-小知识" class="headerlink" title="1.小知识"></a>1.小知识</h2><p><strong>原始值不能有属性和方法，只有对象能有，对象包括对象自己，数组，function。</strong><br><strong>数字不一定是原始值。数字分两种：原始值数字才是原始值。数字，字符串分为两种。</strong><br>var num = 123;数字<br>Var num = new number(123);也数字，对象 123</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(num);
console.log(num.abc&#x3D;&#39;a&#39;);
console.log(num.abc);
console.log(num);
console.log(num*2);&#x2F;&#x2F;成了数字，没有了对象属性，同理字符串，布尔<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不能有属性的两个原始值：<strong>undefined null</strong></p>
<p>String();<br>Boolean();<br>Number();</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; new Number(123);
var str &#x3D; new String(&#39;abcd&#39;);
var bol &#x3D; new Boolean(&#39;true&#39;);
&#x2F;&#x2F; undefined与null不可以有属性
console.log(num.abc);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-现象："><a href="#2-现象：" class="headerlink" title="2.现象："></a>2.现象：</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var str &#x3D; “abcd”;
str.length &#x3D; 4;&#x2F;&#x2F;理论上不可以
str.abc &#x3D; ‘a’;
str.abc &#x3D; undefined;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>原始值不可能有属性和方法，因为经历了一个过程——包装类，才能调用</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; 4;&#x2F;&#x2F;包装类
console.log(num.len &#x3D; 3);
&#x2F;&#x2F;new Number(4).len &#x3D; 3;  delete
&#x2F;&#x2F; new Number(4).len
console.len(num.len);&#x2F;&#x2F;undefined
&#x2F;&#x2F; num没有length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>考题</p>
</blockquote>
<p>基于一个理论：数组截断</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [a,b,c,d];
console.log(arr.length &#x3D; 2);
console.log(arr);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>成哥真题</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var str &#x3D; &quot;abcd&quot;;
str.length &#x3D; 2;
&#x2F;&#x2F; new String(&#39;abcd&#39;).length &#x3D; 2;delete
console.log(str);&#x2F;&#x2F;abcd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>变式</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var str &#x3D; &quot;abcd&quot;;
str.length &#x3D; 2;
&#x2F;&#x2F; new String(&#39;abcd&#39;).length &#x3D; 2;delete
&#x2F;&#x2F; new String(&#39;abcd&#39;).length
console.log(str.length);&#x2F;&#x2F;4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="原形"><a href="#原形" class="headerlink" title="原形"></a>原形</h1><h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h2><p>原型是 function 对象的一个属性，它定义了构造函数制造出的对象的公共祖先。通过该构造函数产生的对象，可以继承该原型的属性和方法。原型也是对象。</p>
<p>构造函数产生的对象：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; Person.prototype &#x3D; &#123;&#125; 是祖先
Person.prototype.name &#x3D; &quot;hehe&quot;;
function Person() &#123;
&#125;
var person &#x3D; new Person();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>应用：</p>
<p>实例一：自己有取自己的</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.LastName &#x3D; &quot;Deng&quot;;
Person.prototype.say  &#x3D; function()&#123;
    console.log(&#39;hehe&#39;);
&#125;
function Person() &#123;
    &#x2F;&#x2F; this.LastName &#x3D; &#39;ji&#39;;先看自己后看父亲
&#125;
var person &#x3D; new Person();
var person1 &#x3D; new Person();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>实例二：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.LastName &#x3D; &quot;Deng&quot;;
Person.prototype.say  &#x3D; function()&#123;
    console.log(&#39;hehe&#39;);
&#125;
function Person(name,age,sex) &#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
&#125;
var person &#x3D; new Person(&#39;xuming&#39;,30,&#39;male&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-提取共有属性。"><a href="#2-提取共有属性。" class="headerlink" title="2.提取共有属性。"></a>2.提取共有属性。</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Car(color,owner) &#123;
    this.owner &#x3D; owner;
    this.carName &#x3D; &quot;BMW&quot;;&#x2F;&#x2F;每次生产都得执行这三句，耦合
    this.height &#x3D; 1400;
    this.lang &#x3D; 8900;
    this.color &#x3D; color;
&#125;
var car &#x3D; new Car(&#39;red&#39;,&#39;prof.ji&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>优化</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Car.prototype.height &#x3D; 1400;
Car.prototype.lang &#x3D; 8900;
Car.prototype.carName &#x3D; &quot;BMW&quot;;
function Car(color,owner) &#123;
    this.owner &#x3D; owner;
    this.color &#x3D; color;
&#125;
var car &#x3D; new Car(&#39;red&#39;,&#39;prof.ji&#39;);
var car1 &#x3D; new Car(&#39;green&#39;,&#39;laodeng&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="3-原形的增删改查"><a href="#3-原形的增删改查" class="headerlink" title="3.原形的增删改查"></a>3.原形的增删改查</h2><p>增</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.lastName &#x3D; &quot;Deng&quot;;&#x2F;&#x2F;原形属性没有改，想改，就要调用Person.prototyoe.lastName
function Person(name) &#123;
    this.name &#x3D; name;
&#125;
var person &#x3D; new Person(&#39;xuming&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(person.lastName&#x3D;&quot;james&quot;);&#x2F;&#x2F;这不叫修改，这叫增加
console.log(person);
console.log(person.lastName);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>删</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(delete person.name);
console.log(person.name);
console.log(delete person.lastName);
console.log(person.lastName);&#x2F;&#x2F;删除失效<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>优化</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Car.prototype.height &#x3D; 1400;
Car.prototype.lang &#x3D; 8900;
Car.prototype.carName &#x3D; &quot;BMW&quot;;
一步到位
Car.prototype &#x3D; &#123;
    height : 1400,
    lang : 4900,
    carName : &quot;BMW&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>改</p>
<p>2.对象如何查看对象的构造函数 — &gt; constructor 构造器</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person()&#123;

&#125;
&#x2F;&#x2F;可以手动更改
&#x2F;&#x2F;构造器constructor：谁生的
Car.prototype &#x3D; &#123;
    constructor : Person
&#125;
function Car()&#123;

&#125;
var car &#x3D; new Car();
console.log(car.constructor);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>查</p>
<ol>
<li>对象如何查看原型 — &gt; 隐式属性 <strong>proto</strong></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//浅紫色，隐式命名规则</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">person.prototype.name &#x3D; &#39;abc&#39;;
function Person()&#123;

&#125;
var person &#x3D; new Person();
&#x2F;&#x2F; 私人属性：var __pravite
console.log(person.__proto__)&#x2F;&#x2F;__proto__里面放的是原形<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &#39;abc&#39;;
function Person()&#123;
    var this &#x3D; &#123;
        &#x2F;&#x2F; __proto__: Person.prototype
    &#125;
&#125;&#x2F;&#x2F;先看看自己有没有name属性，没有的话沿着proto指向找
var perosn &#x3D; new Person();
console.log(perosn.name);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>改变 proto 指向会使得指向更改</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &#39;abc&#39;;
function Person() &#123;
    &#x2F;&#x2F; var this &#x3D; &#123;
    &#x2F;&#x2F; 	&#x2F;&#x2F; __proto__: Person.prototype
    &#x2F;&#x2F; &#125;
&#125;
var obj &#x3D; &#123;
    name: &quot;sunny&quot;
&#125;
var person &#x3D; new Person();&#x2F;&#x2F;换爹
person.__proto__ &#x3D; obj;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>演示 1</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;

&#125;
var person &#x3D; new Person();
Person.prototype.name &#x3D; &quot;cherry&quot;;
person.name;
分析:自己没有，找proto，是Person.prototype：sunny，最后又改成cherry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>演示 2</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;

&#125;
Person.prototype.name &#x3D; &quot;cherry&quot;;
var person &#x3D; new Person();
console.log(person.name);
同理分析cherry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>演示 3</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;

&#125;
var person &#x3D; new Person();
Person.prototype &#x3D; &#123;
    name : &quot;cherry&quot;
&#125;
person.name;
答案：sunny。
.的写法是原有的基础上把原有的值改了，这一次是把原形改了，换了个新对象<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>简化:引用值的互相赋值</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;name : &quot;a&quot;&#125;;
var obj1 &#x3D; obj;
obj &#x3D; &#123;name : &quot;b&quot;&#125;;
obj1:a,obj:b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.Prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;
    &#x2F;&#x2F;var this &#x3D; &#123;__proto__:Person.prototype&#125;
&#125;&#x2F;&#x2F;proto指向不变还是sunny
var person  &#x3D; new Person();
Person.prototype &#x3D; &#123;&#x2F;&#x2F;把自己空间换了
    name:&#39;cherry&#39;
&#125;
&#x2F;&#x2F; 更加简化
&#x2F;&#x2F; Perosn.prototype &#x3D; &#123;name:&quot;a&quot;&#125;;
&#x2F;&#x2F; __proto__ &#x3D; Person.Prototype;
&#x2F;&#x2F; Person.Prototype &#x3D; &#123;name:&quot;b&quot;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>演示 4</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;
&#125;
Person.prototype &#x3D; &#123;
    name: &quot;cherry&quot;
&#125;
var person &#x3D; new Person();
person.name;
答案：cherry
预编译：函数 function Person() &#123; &#125; 提升到最上面，然后顺序执行，执行到最后一行，有new了，
就有function Person() &#123; var this &#x3D; __proto__ Person.prototype &#125; ，再访问：下面的把上覆盖<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>原型链引入</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Grand.prototype.LastName &#x3D; &quot;Deng&quot;;
function Gand()&#123;
&#125;
var grand &#x3D; new Grand();
Father.prototype &#x3D; grand;
function Father()&#123;
    this.name  &#x3D; &quot;xuming&quot;;
&#125;
var father &#x3D; new Father();
Son.prototype &#x3D; father;
function Son()&#123;
    this.hobbit &#x3D; &quot;somke&quot;;
&#125;
var son &#x3D; new Son();
console.log(son.hobbit);
console.log(son.name);&#x2F;&#x2F;顺着链找
console.log(son.toString);
Grand.prototype.__proto__&#x3D;Object.prototype是所有对象的最终原形
console.log(Object.prototype);
console.log(Object.prototype.__proto__);proto没了，so就是终端<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h1><p>如何构成原型链?</p>
<h2 id="1-原型链上属性的增删改查"><a href="#1-原型链上属性的增删改查" class="headerlink" title="1.原型链上属性的增删改查"></a>1.原型链上属性的增删改查</h2><p>增，删，修改：只有本人有权限，子孙没有</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(delete Father.prototype.n);&#x2F;&#x2F;删不了<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>特例：引用值调用修改</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var grand &#x3D; new Grand();
Father.prototype &#x3D; grand;
function Father() &#123;
    this.name &#x3D; &#39;xuming&#39;;
    this.fortune &#x3D; &#123;
        card1 : &#39;visa&#39;
    &#125;
&#125;
var father &#x3D; new Father();
Son.prototype &#x3D; father;
function Son()&#123;
    this.hobbit &#x3D; &quot;somoke&quot;;
&#125;
var son &#x3D;  new Son();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(son.fortune);
son.fortune &#x3D; 200;
console.log(son);
console.log(father.fortune);
son.fortune.card2 &#x3D; &#39;master&#39;;
cons.log(father);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>demo</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Grand.prototype.LastName &#x3D; &quot;Deng&quot;;
function Grand()&#123;

&#125;
var grand &#x3D; new Grand();
Father.prototype &#x3D; grand;
function Father()&#123;
    this.name &#x3D; &quot;xuming&quot;;
    this.forture &#x3D; &#123;
        card1 : &#39;visa&#39;
    &#125;;
    this.num &#x3D; 100;
&#125;
var father &#x3D; new Father();
Son.prototype &#x3D; father;
function Son()&#123;
    this.hobbit &#x3D; &quot;smoke&quot;;
&#125;
var son &#x3D; new Son();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(son.num++);100
console.log(father);100
console.log(son.num);101<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>演示</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype &#x3D; &#123;
    name : &quot;a&quot;,
    sayName : function()&#123;
        console.log(this.name);
    &#125;
&#125;
function Person()&#123;

&#125;
var person &#x3D; new Person();&#x2F;&#x2F;答案：a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype &#x3D; &#123;
    name : &quot;a&quot;,
    sayName : function()&#123;
        console.log(this.name);
    &#125;
&#125;
function Person()&#123;
    this.name &#x3D; &quot;b&quot;;
&#125;
var person &#x3D; new Person();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>小常识：<br>a.sayName()<br>sayName 里面的 this 指向是，谁调用的这个方法，this 就指向谁<br>person.sayName(); person 调用的，b<br>如果 Person.prototype.sayName(); a</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype &#x3D; &#123;
    height : 100
&#125;
function Person()&#123;
    this.eat &#x3D; function()&#123;
        this.height ++;
    &#125;
&#125;
var person &#x3D; new Person();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(person.eat);
person.eat();
console.log(person.eat);&#x2F;&#x2F;默認return：undefined 查看要写代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>公司规范：数组，对象都用字面量创建</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;&#125;;&#x2F;&#x2F;对象自变量创建形式，有原形
&#x2F;&#x2F;与var obj1 &#x3D; new Object();相同
var obj &#x3D; &#123;&#125;;内部来一个new Object()
所以要写对象字面量<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>绝大多数对象的最终都会继承自 Object.prototype</p>
</blockquote>
<p>（选择题真题）<br>例外：由于 Object.create</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(Object.create());&#x2F;&#x2F;报错，不写代码
console.log(Object.create(null));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>Object.create(原型)也能创造对象</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; var obj &#x3D; Object(原形);
var obj &#x3D; &#123;name : &quot;sunny&quot;, age : 123&#125;;
var obj1 &#x3D; Object.create(obj);
&#x2F;&#x2F; obj1成为了对象，obj1的原形是obj,所以obj1.name就是obj.name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Person.prototype.name &#x3D; &quot;sunny&quot;;
function Person() &#123;
&#125;
var person &#x3D; Object.create(Person.prototype);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-关于-toString"><a href="#2-关于-toString" class="headerlink" title="2.关于 toString:"></a>2.关于 toString:</h2><p><strong>只有 undefined 与 null 不能调用 toString</strong><br>数字可以，因为经过包装类一层层访问 123.toString();<br>undefined 没有包装类，是个原始值，没有原形，不能调用</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(undefined.toString);
console.log(null.toString);
obj.__proto__ &#x3D; &#123; name: sunny&#125;;
console.log(obj.name);&#x2F;&#x2F;自己加原形不管用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>各个变量各个属性值调用 toString 返回结果不一样 变成字符串</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; 123;
console.log(num.toString);&#x2F;&#x2F;字符串
console.log(123.toString);&#x2F;&#x2F;识别成浮点型<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>现象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;&#125;;
obj.toString();----&gt;[object Object]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>原因</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; 123;
&#x2F;&#x2F; num.toString();--&gt;new Number(num).toString();
Number.prototype.toString &#x3D; function ()&#123;

&#125;
&#x2F;&#x2F; Number.prototype.__proto__ &#x3D; Object.prototype<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>重写笔试题:写一个方法重写形式，写一个和系统同样的名，不同功能</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; Object.prototype.toString &#x3D; function ()&#123;
&#x2F;&#x2F; &#125;
Person.prototype &#x3D; &#123;
    toString : function () &#123;
        return &#39;hehhe&#39;;
    &#125;
&#125;
function Person () &#123;
&#125;
var Person &#x3D; new Person();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><strong>本集多看弱项</strong></p>
</blockquote>
<h2 id="3-小-bug"><a href="#3-小-bug" class="headerlink" title="3.小 bug"></a>3.小 bug</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(0.4*100);&#x2F;&#x2F;js精度不准
console.log(Math.ceil(123.234));&#x2F;&#x2F;向上取整
console.log(Math.floor(123.99999));&#x2F;&#x2F;下<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>随机生成 0-100 随机数</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Math.random();&#x2F;&#x2F;随机数生成函数(0,1)
for(var i &#x3D; 0;i &lt; 10; i++)&#123;
    var num  &#x3D; Math.random().toFixed(2)*100;
    console.log(num);&#x2F;&#x2F;会出现偏差
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>解决:先*100 后取整</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">for(var i &#x3D; 0; i &lt; 10; i++)&#123;
    var num &#x3D; Math.floor(Math.random() * 100);
    console.log(num);
&#125;
&#x2F;&#x2F; 总结：可正常那个计算的范围：小数点前16后16<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="call-apply-必考"><a href="#call-apply-必考" class="headerlink" title="call/apply 必考"></a>call/apply <code>必考</code></h1><h2 id="1-call"><a href="#1-call" class="headerlink" title="1.call"></a>1.call</h2><p><strong>作用，改变 this 指向。借用别人的函数实现自己的功能</strong><br><strong>区别，后面传的参数形式不同。</strong><br>call 需要把实参按照形参的个数传出去 apply 需要传一个 arguments</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test()&#123;
&#125;
test()&#x3D;&#x3D;&#x3D;test.call();&#x2F;&#x2F;后面隐式默认<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>call 里面可以传东西</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person(name, age)&#123;
    this.name &#x3D; name;
    this.age &#x3D; age
&#125;
var person &#x3D; new Person(&#39;deng&#39;,100);
var obj &#x3D; &#123;
&#125;
&#x2F;&#x2F; Person.call(obj);
&#x2F;&#x2F; 会让Person里所有的this变成obj 即this&#x3D;obj
&#x2F;&#x2F; 怎么传参：Person.call(obj,&#39;cheng&#39;,300);
Person.call(obj,&#39;cheng&#39;,300);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>企业级开发</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;开发讲究快准狠，A写的代码能实现B的功能，省时
function Person(name, age, sex) &#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
&#125;
function Student(name, age, sex, tel, grade)&#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
    this.tel &#x3D; tel;
    this.grade &#x3D; grade;&#x2F;&#x2F;后面覆盖前面
&#125;
&#x2F;&#x2F; call 借用别人的函数实线自己的功能
function Person(name, age, sex) &#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
&#125;
function Student(name, age, sex, tel, grade)&#123;
    &#x2F;&#x2F; var this &#x3D; &#123;name : &quot;&quot;, age : &quot;&quot;,sex : &quot;&quot;&#125;
    Person.call(this, name, age, sex);
    this.tel &#x3D; tel;
    this.grade &#x3D; grade;
&#125;
var student &#x3D; new Student(&#39;sunny&#39;,123,&#39;male&#39;,139,2017);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>造车举例</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Wheel(wheelSize,style) &#123;
    this.style &#x3D; style;
    this.wheelSize &#x3D; wheelSize;
&#125;
function Sit(c,sitColor) &#123;
    this.c &#x3D; c;
    this.sitColor &#x3D; sitColor;
&#125;
function Model(height,width,len) &#123;
    this.height &#x3D; height;
    this.width &#x3D; width;
    this.len &#x3D; len;
&#125;
function Car(wheelSize, style, c, sitColor, height, width, len) &#123;
    Wheel.call(this, wheelSize,style);
    Sit.call(this,c,sitColor);
    Model.call(this, height, width, len);
&#125;
var car &#x3D; new Car(100,&#39;花里胡哨的&#39;,&#39;真皮&#39;,&#39;red&#39;,1800,1900,4900);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-apply："><a href="#2-apply：" class="headerlink" title="2.apply："></a>2.apply：</h2><p>apply 只能传送一个数组形式的实参<br>Wheel.apply(this, [wheelSize,style]);</p>
<p>总结：</p>
<p>call：<strong>需要把实参按照形参的个数传进去</strong></p>
<p>apply: <strong>需要传一个 arguments</strong></p>
<p>作业:电子书 js 设计模式 0-35 页上部分</p>
<p>笔试题：用友 2017 校招前端</p>
<h1 id="继承发展史"><a href="#继承发展史" class="headerlink" title="继承发展史"></a>继承发展史</h1><h2 id="1-传统形式"><a href="#1-传统形式" class="headerlink" title="1.传统形式"></a>1.传统形式</h2><blockquote>
<p>过多的继承了没用的属性</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Grand.prototype.lastName &#x3D; &quot;Ji&quot;;
function Grand() &#123;
&#125;
var grand &#x3D; new Grand();
Father.prototype &#x3D; grand;
function Father() &#123;
    this.name &#x3D; &quot;hehe&quot;;
&#125;
var father &#x3D; new Father();
Son.prototype &#x3D; father;
function Son() &#123;
&#125;
var son &#x3D; new Son();&#x2F;&#x2F;一系列从头到尾继承，导致不想继续的也继承了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-借用构造函数"><a href="#2-借用构造函数" class="headerlink" title="2.借用构造函数"></a>2.借用构造函数</h2><p>不能继承借用构造函数的原型<br>每次构造函数都要多走一个函数实际浪费效率</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person(name,age,sex)&#123;
    this.name &#x3D; name;
    this.age &#x3D; age;
    this.sex &#x3D; sex;
&#125;&#x2F;&#x2F;实际上call apply不是继承
function Student(name, age, sex, grade) &#123;
    Person.call(this,name,age,sex);
    this.grade &#x3D; grade;
&#125;
var student &#x3D; new Student();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="3-共享原型"><a href="#3-共享原型" class="headerlink" title="3.共享原型"></a>3.共享原型</h2><p>不能随便改动自己的原型</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father()&#123;
    &#x2F;&#x2F; Son想继承father的prototype
&#125;
function Son()&#123;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>实现方法</p>
<ol>
<li><p>原型链</p>
<p>function Son()上面放上 var father…</p>
</li>
<li><p>共有原形</p>
</li>
</ol>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father() &#123;
&#125;
function Son() &#123;
&#125;
Son.prototype &#x3D; Father.prototype
var son &#x3D; new Son();
var father &#x3D; new Father();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>抽象成函数</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father() &#123;

&#125;
function Son() &#123;

&#125;
function inherit(Target, Origin) &#123;
    Target.prototype &#x3D; Origin.prototype;
&#125;
inherit(Son, Father);
var son &#x3D; new Son();&#x2F;&#x2F;son.LastName &#x3D; &quot;Deng&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>要先继承后使用，Son.lastName 指向原来的空间</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father() &#123;

&#125;
function Son() &#123;

&#125;
function inherit(Target, Origin) &#123;
    Target.prototype &#x3D; Origin.prototype;

&#125;
var son &#x3D; new Son();
inherit(Son, Father);	&#x2F;&#x2F;先继承，后该原形不管用 son.lastName &#x3D; undefined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不足：</p>
<p>son 给自己多加一个属性，方便后续生产出的对象使用，不能个性实现，继承了，但是影响</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father()&#123;

&#125;
function Son()&#123;

&#125;
function inherit(Target, Origin)&#123;
    Target.prototype &#x3D; Origin.prototype;

&#125;
inherit(Son, Father);
Son.prototype.sex &#x3D; &quot;male&quot;;&#x2F;&#x2F;与father的prototype一致，一个变，都变
Father.prototype
var son &#x3D; new Son();
var father &#x3D; new Father();
&#x2F;&#x2F; 要实现：想继承但不相互影响<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="4-圣杯模式"><a href="#4-圣杯模式" class="headerlink" title="4.圣杯模式"></a>4.圣杯模式</h2><h3 id="通过原型链"><a href="#通过原型链" class="headerlink" title="通过原型链"></a>通过原型链</h3><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function inherit(Target, Origin) &#123;
    function F()&#123;&#125;;
    F.prototype &#x3D; Origin.prototype;
    Target.prototype &#x3D; new F();
&#125;
Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father()&#123;

&#125;
function Son() &#123;

&#125;
inherit(Son,Father);
var son &#x3D; new Son;
var father &#x3D; new Father();
console.log(Son.prototype.sex &#x3D; &quot;male&quot;);
console.log(son.sex);
console.log(father.sex);
console.log(Father.prototype);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>但是，constructor 应该指向构造函数，然而，son.constructor = ƒ Father()？？？？怎么回事？</p>
<blockquote>
<p>原形上系统自带的一个属性叫 constructor，<strong>默认指向他的构造函数</strong></p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">son.__proto__ ---&gt;new F().__proto__---&gt;Father.prototype
&#x2F;&#x2F;指向紊乱了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>实现继承：必会圣杯模式</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function inherit(Target, Origin)&#123;
    function F()&#123;&#125;;
    F.prototype &#x3D; Origin.prototype;
    Target.prototype &#x3D; new F();
    Target.prototype.constructor &#x3D; Target;
    Target.prototype.uber &#x3D; Origin.prototype;&#x2F;&#x2F;超级父级：超类
&#125;
Father.prototype.lastName &#x3D; &quot;Deng&quot;;
function Father()&#123;
&#125;
function Son()&#123;
&#125;
inherit(Son, Father);
var son &#x3D; new Son();
var father &#x3D; new Father();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>颠倒</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">F.prototype &#x3D; Origin.prototype;
Target.prototype &#x3D; new F();&#x2F;&#x2F;不能颠倒，一定要在new之前改原形<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="类雅虎"><a href="#类雅虎" class="headerlink" title="类雅虎"></a>类雅虎</h3><p>闭包的作用：可以实现封装，属性私有化</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Deng(name, wife)&#123;
    var prepareWife &#x3D; &quot;xiaozhang&quot;;
    this.name &#x3D; name;
    this.wife &#x3D; wife;
    this.divorce &#x3D; function()&#123;
        this.wife &#x3D; prepareWife;
    &#125;
    this.changePrepareWife &#x3D; function(target)&#123;
        prepareWife &#x3D; target;
    &#125;
    this.sayPreparewife &#x3D; function()&#123;
        console.log(prepareWife);
    &#125;
&#125;
var deng &#x3D; new Deng(&#39;deng&#39;,&#39;xiaoliu&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(deng.sayPreparewife());
console.log(deng.Preparewife)&#x2F;&#x2F;直接看看不到  即私有化变量<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>F 变成了私有化变量</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var inherit &#x3D; (function()&#123;
    var F &#x3D; function()&#123;&#125;;&#x2F;&#x2F;F放在闭包，私有化变量
    return function(Target,Origin)&#123;
        F.prototype &#x3D; Origin.prototype;
        Target.prototype &#x3D; new F();
        Target.prototype.constuctor &#x3D; Target;
        Target.prototype.uber &#x3D; Origin.prototype;
    &#125;
&#125;());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>离散数学</strong>（重要）——&gt;CS 专业（计算机专业），，，，概率论,人工智能</p>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><blockquote>
<p>就是对象</p>
</blockquote>
<p>管理变量，防止污染全局，适用于模块化开发</p>
<p>一个页面，多人协作，合并冲突</p>
<h2 id="1-老办法：命名空间"><a href="#1-老办法：命名空间" class="headerlink" title="1.老办法：命名空间"></a>1.老办法：命名空间</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var org &#x3D; &#123;
    department1 : &#123;
        jicheng : &#123;
            name : &quot;abc&quot;;
            age : 123;
        &#125;,
        xuming : &#123;

        &#125;
    &#125;,
    department2 : &#123;
        zhangsan : &#123;

        &#125;,
        lisi : &#123;

        &#125;
    &#125;
&#125;
var jicheng &#x3D; org.department1.jicheng;
jicheng.name;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-新方法：闭包私有化变量"><a href="#2-新方法：闭包私有化变量" class="headerlink" title="2.新方法：闭包私有化变量"></a>2.新方法：闭包私有化变量</h2><p>webpack</p>
<blockquote>
<p>闭包（实现变量私有化）+立即执行函数</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var name &#x3D; &quot;bac&quot;;
var init &#x3D; (function()&#123;
    var name &#x3D; &quot;abc&quot;;
    function callName()&#123;
        console.log(name);
    &#125;
    return function()&#123;
        callName();
    &#125;
&#125;())
init();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>协作也不冲突</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var name &#x3D; &quot;bac&quot;;
var init &#x3D; (function()&#123;
    var name &#x3D; &quot;abc&quot;;
    function callName()&#123;
        console.log(name);
    &#125;
    return function()&#123;
        callName();
    &#125;
&#125;())
var initDeng &#x3D; (function()&#123;
    var name &#x3D; 123;
    function callName()&#123;
        console.log(name);
    &#125;
    return function()&#123;
        callName();
    &#125;
&#125;())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>如何实现链式调用模式（模仿 jquery）<br>obj.eat().smoke().drink().eat().sleep();</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">$(&#39;div&#39;).css(&#39;background-color&#39;,&#39;red&#39;).width(100).height(100).
html(123).css(&#39;position&#39;,&#39;absolute&#39;).
css(&#39;left&#39;,&#39;100px&#39;).css(&#39;top&#39;,&#39;100px&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>模拟 jQuery 实现连续调用方法</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var deng &#x3D; &#123;
    smoke : function () &#123;
        console.log(&#39;Smoking...xuan cool!!!&#39;);
    &#125;,
    drink : function () &#123;
        console.log(&#39;Drinking...good&#39;);
    &#125;,
    perm : function()&#123;
        console.log(&#39;perming...cool&#39;);
    &#125;
&#125;
deng.smoke();
deng.drink();
deng.perm();&#x2F;&#x2F;怎么实现JQ一样连续调用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>为什么不能连续调用</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(&#39;Smoking...xuan cool!!!&#39;);
&#x2F;&#x2F; return undefined;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>方法：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var deng &#x3D; &#123;
    smoke : function () &#123;
        console.log(&#39;Smoking...xuan cool!!!&#39;);
        return this;
    &#125;,
    drink : function () &#123;
        console.log(&#39;Drinking...good&#39;);
        return this;
    &#125;,
    perm : function()&#123;
        console.log(&#39;perming...cool&#39;);
        return this;
    &#125;
&#125;
deng.smoke().drink().perm().smoke().drink();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="查看属性"><a href="#查看属性" class="headerlink" title="查看属性"></a>查看属性</h1><p>想实现 num 为几，就叫哪个媳妇</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var deng &#x3D; &#123;
    wife1 : &#123;name : &quot;xiaoliu&quot;&#125;,
    wife2 : &#123;name : &quot;xiaozhang&quot;&#125;,
    wife3 : &#123;name : &quot;xiaowang&quot;&#125;,
    wife4 : &#123;name : &quot;xiaoli&quot;&#125;,
    sayWife : function(num) &#123;
        switch(num) &#123;
            case 1:
                return this.wife1;
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>把上述代码简化：变量拼接属性名</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &quot;abc&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>**obj.name—-&gt;obj[‘name’];**内部会转换成方括号，so 这样写也对<br>方括号可以字符串拼接<br>功能实现</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> deng <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  wife1<span class="token operator">:</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"xiaoliu"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  wife2<span class="token operator">:</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"xiaozhang"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  wife3<span class="token operator">:</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"xiaowang"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  wife4<span class="token operator">:</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"xiaoli"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayWife</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">"wife"</span> <span class="token operator">+</span> num<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//字符串加啥都是字符串</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>deng<span class="token punctuation">.</span><span class="token function">sayWife</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="对象的枚举"><a href="#对象的枚举" class="headerlink" title="对象的枚举"></a>对象的枚举</h1><blockquote>
<p>for in 循环</p>
</blockquote>
<p>数据组的遍历：想知道十个人的信息，挨个知道</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,3,3,4,5,6,7,8,9];
&#x2F;&#x2F;遍历 枚举 enumeration
for(var i &#x3D; 0; i &lt; arr.length; i++)&#123;
    console.log(arr[i]);&#x2F;&#x2F;遍历
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果想查找（遍历）对象的呢（不知道啥类型，编辑器角度）</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &quot;123&quot;,
    age : 123,
    sex : &quot;male&quot;,
    height : 180,
    weight : 75
    &#x2F;&#x2F;prop:123
&#125;
for(var prop in obj)&#123;
    console.log(obj.prop);&#x2F;&#x2F;不好使---obj.prop---&gt;obj[&#39;prop&#39;]当成属性了
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>正解：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;13&#39;,
    age : 123,
    sex : &quot;male&quot;,
    height : 180,
    weight : 178,
    __proto__ : &#123;
        lastName : &quot;deng&quot;&#x2F;&#x2F;也会把原形东西拿出来，不想把原形拿出来————hasOwnProperty
    &#125;
&#125;
for(var prop in obj) &#123;
    console.log(obj[prop]);
    &#x2F;&#x2F;console.log(obj[&#39;prop&#39;]);&#x2F;&#x2F;跟obj.prop一样，这样也不对
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>实现 obj1 里面属性+1 返回<br>错误示范</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj1 &#x3D; &#123;
    a : 123,
    b : 234,
    c : 456
&#125;
var key;
for(key in obj1) &#123;&#x2F;&#x2F;这样写也行
    obj1.key ++;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="1-hasOwnProperty（重点）"><a href="#1-hasOwnProperty（重点）" class="headerlink" title="1.hasOwnProperty（重点）"></a>1.hasOwnProperty（重点）</h2><p>过滤性方法</p>
<p>判断这个属性是否是<strong>自己</strong>的(不是原形链的)<br>true<br>false</p>
<p>不想把原形拿出来 demo</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;13&#39;,
    age : 123,
    sex : &quot;male&quot;,
    height : 180,
    weight : 178,
    __proto__ : &#123;
        lastName : &quot;deng&quot;
    &#125;
&#125;
for(var prop in obj) &#123;
    if(obj.hasOwnProperty(prop))&#123;
        console.log(obj[prop]);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>自己设的一定能打印，系统设的一定不能</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;13&#39;,
    age : 123,
    sex : &quot;male&quot;,
    height : 180,
    weight : 178,
    __proto__ : &#123;
        lastName : &quot;deng&quot;,
        __proto__ : Object.prototype&#x2F;&#x2F;一旦延展的原型链的最顶端，不会打印最顶端
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-in"><a href="#2-in" class="headerlink" title="2.in"></a>2.in</h2><p>和 hasOwnProperty 类似</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;13&#39;,
    age : 123,
    sex : &quot;male&quot;,
    height : 180,
    weight : 178,
    __proto__ : &#123;
        lastName : &quot;deng&quot;
    &#125;
&#125;
&#x2F;&#x2F;console.log(height in obj)&#x2F;&#x2F;height叫变量
console.log(&#39;height&#39; in obj)&#x2F;&#x2F;height这个属性名存不存在于obj
concole.log(&#39;lastName&#39; in obj)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>和 hasOwnProperty 的区别：<br>In 判断能不能访问到这个属性或者原形（只能判断对象上能不能访问到这个属性，也可以在父级找）<br>hasOwnProperty 判断属性属不属于这个对象<br>开发从来不用</p>
<h2 id="3-instanceof（重点）"><a href="#3-instanceof（重点）" class="headerlink" title="3.instanceof（重点）"></a>3.instanceof（重点）</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Person()&#123;
&#125;
var person &#x3D; new Person();
var obj &#x3D; &#123;&#125;;
&#x2F;&#x2F; A对象是不是B构造函数构造出来的
console.log(person instanceof Person);
&#x2F;&#x2F; ----&gt;ture<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>看 A 对象的的原型链上有么有 B 的原形（重点）</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(person instanceof Object);
----&gt;ture
console.log([] instanceof Array);
----&gt;ture
console.log([] instanceof Object);
----&gt;ture
console.log(person instanceof Array);
----&gt;false
console.log(obj instanceof Person);
----&gt;false &#x2F;&#x2F;两个没关系<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>解决的问题</p>
<blockquote>
<p>判断变量是数组还是对象（机器识别）</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">typeof([])
&quot;object&quot;
typeof(&#123;&#125;)
&quot;object&quot;
&#x2F;&#x2F;需求：
var arr &#x3D; [] || &#123;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>第一种方法：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;&#125;;&#x2F;&#x2F;var obj &#x3D; [];
obj.constructor&#x2F;&#x2F;直接区分出来了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>第二种方法：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">[] instanceof Array	 &#x2F;&#x2F;true
var obj &#x3D; &#123;&#125;;
obj instanceof Array &#x2F;&#x2F;false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>第三种方法：toString</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Object.prototype.toString.call([]);
&#x2F;&#x2F;Object.prototype.toString &#x3D; function ()&#123;
&#x2F;&#x2F;谁调用，this就是谁
&#x2F;&#x2F;识别this:
&#x2F;&#x2F;返回相应结果
&#x2F;&#x2F;&#125;
&#x2F;&#x2F; obj.toString();
&#x2F;&#x2F; call.toString();
Object.prototype.toString.call([]);&#x2F;&#x2F;数组会替换this
Object.prototype.toString.call(123);
Object.prototype.toString.call(&#123;&#125;);&#x2F;&#x2F;区别数组和对象<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>控制台验证</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Object.prototype.toString.call([]);
&quot;[object Array]&quot;
Object.prototype.toString.call(&#123;&#125;)
&quot;[object Object]&quot;
Object.prototype.toString.call(123);
&quot;[object Number]&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="this"><a href="#this" class="headerlink" title="this"></a>this</h1><h2 id="1-函数预编译过程-this-—-gt-window"><a href="#1-函数预编译过程-this-—-gt-window" class="headerlink" title="1.函数预编译过程 this —&gt; window"></a>1.函数预编译过程 this —&gt; window</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test(c) &#123;
    &#x2F;&#x2F;var this &#x3D; Object.create(test.prototype);
    &#x2F;&#x2F;相当于
    &#x2F;&#x2F; &#123;
    &#x2F;&#x2F; 	__proto__ : test.prototype
    &#x2F;&#x2F; &#125;
    var a &#x3D; 123;
    function b()&#123;&#125;
&#125;
&#x2F;&#x2F;AO&#123;
&#x2F;&#x2F;  arguments : [1],&#x2F;&#x2F;自带的
&#x2F;&#x2F;  this : window,&#x2F;&#x2F;自带的
&#x2F;&#x2F;  c : 1,
&#x2F;&#x2F;  a : undefined,
&#x2F;&#x2F;  b : function() &#123;&#125;
&#x2F;&#x2F;&#125;
test(1);
new test();&#x2F;&#x2F;new导致this指向发生了改变，不在是window了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>验证</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test()&#123;
    console.log(this);
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-全局作用域里-this-—-gt-window"><a href="#2-全局作用域里-this-—-gt-window" class="headerlink" title="2.全局作用域里 this —&gt; window"></a>2.全局作用域里 this —&gt; window</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">console.log(window);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="3-call-apply-可以改变函数运行时-this-指向"><a href="#3-call-apply-可以改变函数运行时-this-指向" class="headerlink" title="3.call/apply 可以改变函数运行时 this 指向"></a>3.call/apply 可以改变函数运行时 this 指向</h2><h2 id="4-obj-f-f-里面的-this-指向-obj"><a href="#4-obj-f-f-里面的-this-指向-obj" class="headerlink" title="4.obj.f(); f()里面的 this 指向 obj)"></a>4.obj.f(); f()里面的 this 指向 obj)</h2><p>谁调用的方法，this 就指向谁，如果没人调用这个方法，空执行，this 是 window</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    a : function () &#123;
        console.log(this.name)&#x2F;&#x2F;谁调用，就用谁的name
    &#125;,
    name : &#39;abc&#39;
&#125;
obj.a();&#x2F;&#x2F;obj调用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="5-this-题"><a href="#5-this-题" class="headerlink" title="5.this 题"></a>5.this 题</h2><p>条件判断为假的情况有： 0 、false 、’’ 、 null 、undefined 、未定义对象。<br>函数声明写在运算符中，其为 true，但 放在运算符中的函数声明在执行阶段时找不到的 。<br>另外，对未声明的变量执行 typeof 不会报错，会返回 undefined</p>
<p>this 一马平川题</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var name &#x3D; &quot;222&quot;;
var a &#x3D; &#123;
    name : &quot;111&quot;,
    say : function()&#123;
        console.log(this.name);
    &#125;
&#125;
var fun &#x3D; a.say;&#x2F;&#x2F;a.say代表function的函数引用，fun在全局上执行，相当于函数在全局执行
fun()&#x2F;&#x2F;222全局执行也没人调用
a.say()&#x2F;&#x2F;111
var b &#x3D; &#123;
    name : &quot;333&quot;,
    say : function(fun)&#123;
        &#x2F;&#x2F;this----&gt;b
        fun();&#x2F;&#x2F;不是this.fun(),谁也没调用,预编译，上面得this---&gt;window,222
    &#125;
&#125;
b.say(a.say);&#x2F;&#x2F;a.say---是上面的函数体，       222
b.say &#x3D; a.say;&#x2F;&#x2F;a.say上面的函数拷贝到b.say(代替b.say)
b.say();&#x2F;&#x2F;333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h1><blockquote>
<p>arguments.callee</p>
</blockquote>
<blockquote>
<p>func.caller</p>
</blockquote>
<p>arguments</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test()&#123;
 	console.log(arguments.callee);
 &#125;
test();&#x2F;&#x2F;返回自己的函数体<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>应用：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; (function(n)&#123;
    if(n &#x3D;&#x3D; 1) &#123;
        return 1;
    &#125;
    return n*阶乘(n-1);
&#125;(100))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>立即执行函数的阶乘：只能用 callee 做</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; (function(n)&#123;
    if(n &#x3D;&#x3D; 1) &#123;
        return 1;
    &#125;
    return n*arguments.callee(n-1);
&#125;(100))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在那个函数里面，就打印哪个</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test()&#123;
    console.log(arguments.callee);
    function demo()&#123;
        console.log(arguments.callee);
    &#125;
    demo();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>caller: demo 在哪个环境调用的</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test () &#123;
	demo();
&#125;
function demo() &#123;
    console.log(demo.caller);
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h1><h2 id="1-浅层克隆"><a href="#1-浅层克隆" class="headerlink" title="1.浅层克隆"></a>1.浅层克隆</h2><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;abc&#39;,
    age : 123,
    sex : &#39;female&#39;
&#125;
var obj1 &#x3D; &#123;&#125;
function clone(origin,target)&#123;
    for(var prop in origin)&#123;
        target[prop] &#x3D; origin[prop];
    &#125;
&#125;
clone(obj,obj1);
&#x2F;&#x2F;打印obj1显示已经copy过去了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>实现容错：</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;abc&#39;,
    age : 123,
    sex : &#39;female&#39;
&#125;
var obj1 &#x3D; &#123;&#125;
function clone(origin,target)&#123;
    var target &#x3D; target || &#123;&#125;;
    for(var prop in origin)&#123;
        target[prop] &#x3D; origin[prop];
    &#125;
    return target;
&#125;
clone(obj,obj1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>原始值没问题，但是引用值拷贝：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"abc"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>
  card<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"visa"</span><span class="token punctuation">,</span> <span class="token string">"unionpay"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">origin<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> target <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> origin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">clone</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-深层克隆"><a href="#2-深层克隆" class="headerlink" title="2.深层克隆"></a>2.深层克隆</h2><p>两个人，克隆，只考虑引用值的数组、对象 核心：区分数组和对象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;abc&#39;,
    age : 123,
    sex : &#39;female&#39;,
    card : [&#39;visa&#39;,&#39;unionpay&#39;,[1,2]]
&#125;
var obj1 &#x3D; &#123;
    card : [obj.card[0],obj.card[1],[]]
&#125;
clone(obj, obj1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;abc&#39;,
    age : 123,
    card : [&#39;visa&#39;, &#39;master&#39;],
    wife : &#123;
        name : &quot;bcd&quot;,
        son : &#123;
            name : &quot;aaa&quot;
        &#125;
    &#125;
&#125;
var obj1 &#x3D; &#123;
    name : obj.name,
    age : 123,
    card : []&#x2F;&#x2F;重新开始循环，发现里面都是原始值，card : [obj.card[0],obj.card[1]],
    wife : &#123;
    name : &quot;bcd&quot;,
    son : &#123;
    name : &quot;bcd&quot;,
    son :
&#125;
&#125;&#x2F;&#x2F;里面是不是原始值，第一个是，第二个不是， 建立新的对象,进行循环
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>遍历对象 for(var prop in obj)<br>遍历除了可以遍历对象，还可以遍历数组</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]
for(var prop in arr) &#123;
    arr[prop]
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>步骤：</p>
</blockquote>
<p>1.判断是不是原始值 typeof()如果是 object 引用值，不是 obj,基本是原始值 null 最后讲 2.数组还是对象 三种方法: instanceof toString constructor,建议使用 toString,因为<br>另外两个有小问题，不会遇到<br>父子域：一个页面里面可能还有个子页面 跨父子域 [] instanceof Array ——&gt;false 应该 ture 3.建立相应的数组和对象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; 递归
function deepClone(origin,target) &#123;
    var target &#x3D; target || &#123;&#125;;&#x2F;&#x2F;容错
    toStr &#x3D; Object.prototype.toString,
        arrStr &#x3D; &quot;[object Array]&quot;;&#x2F;&#x2F;比对
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>代码实现</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &#39;abc&#39;,
    age : 123,
    card : [&#39;visa&#39;, &#39;master&#39;],
    wife : &#123;
        name : &quot;bcd&quot;,
        son : &#123;
            name : &quot;aaa&quot;
        &#125;
    &#125;
&#125;
var obj1 &#x3D; &#123;

&#125;

function deepClone(origin,target) &#123;
    var target &#x3D; target || &#123;&#125;;&#x2F;&#x2F;容错
    toStr &#x3D; Object.prototype.toString,
        arrStr &#x3D; &quot;[object Array]&quot;;
    for(var prop in origin) &#123;
        if(origin.hasOwnProperty(prop)) &#123;&#x2F;&#x2F;防止原型链上的
            if(typeof(origin[prop]) &#x3D;&#x3D; &#39;object&#39;) &#123;
                if(toStr.call(origin[prop]) &#x3D;&#x3D; arrStr) &#123;
                    target[prop] &#x3D; [];
                &#125;else&#123;
                    target[prop] &#x3D; &#123;&#125;;
                &#125;
                deepClone(origin[prop],target[prop]);&#x2F;&#x2F;递归
            &#125;else&#123;
                target[prop] &#x3D; origin[prop];
            &#125;
        &#125;
    &#125;
    return target;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>优化</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function print()&#123;
    function deepClone(origin, target)&#123;
        var target &#x3D; target || &#123;&#125;,
            toStr &#x3D; Object.prototype.toString,
            arrStr &#x3D; &quot;[object Array]&quot;;
        for(var prop in origin) &#123;
            if(origin.hasOwnProperty(prop)) &#123;&#x2F;&#x2F;null问题
                if(origin[prop] !&#x3D;&#x3D; &quot;null&quot; &amp;&amp; typeof(origin[prop]) &#x3D;&#x3D; &#39;object&#39;) &#123;
                    &#x2F;&#x2F;绝对不等于，隐式类型转换也不行
                    if(toStr.call(origin[prop]) &#x3D;&#x3D; arrStr) &#123;
                        target[prop] &#x3D;&#x3D; [];
                    &#125;else&#123;
                        target[prop] &#x3D; &#123;&#125;;
                    &#125;
                    deepClone(origin[prop],target[prop]);
                &#125;else&#123;
                    target[prop] &#x3D; origin[prop];
                &#125;
            &#125;
        &#125;
        return target;
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>三目运算符简化代码</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function print()&#123;
    function deepClone(origin, target)&#123;
        var target &#x3D; target || &#123;&#125;,
            toStr &#x3D; Object.prototype.toString,
            arrStr &#x3D; &quot;[object Array]&quot;;
        for(var prop in origin) &#123;
            if(origin.hasOwnProperty(prop)) &#123;&#x2F;&#x2F;null问题
                if(origin[prop] !&#x3D;&#x3D; &quot;null&quot; &amp;&amp; typeof(origin[prop]) &#x3D;&#x3D; &#39;object&#39;) &#123;
                    &#x2F;&#x2F;绝对不等于，隐式类型转换也不行

                    target[prop] &#x3D; (toStr.call(origin[prop]) &#x3D;&#x3D; arrStr) ? [] : &#123;&#125;;
                    deepClone(origin[prop],target[prop]);
                &#125;else&#123;
                    target[prop] &#x3D; origin[prop];
                &#125;
            &#125;
        &#125;
        return target;
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>数组的定义</p>
<p>区分对象的定义方式<br>（1） 自面量<br>（2） 构造函数——系统自带<br>（3） 自定义构造函数<br>（4） Var Obect.create()</p>
<p>数组 1.数组字面量 var arr = [];</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,3,,,5];&#x2F;&#x2F;稀松数组<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>2.new Array(length/content);</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">构造方法   <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>区别</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; new Array(10);&#x2F;&#x2F;返回长度为10的稀松数组
var arr1 &#x3D; [10];
var arr &#x3D; new Array(10.2);&#x2F;&#x2F;长度为10.2 报错<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>数组的读和写</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">arr[num] &#x2F;&#x2F;不可以溢出读   结果undefined
arr[num] &#x3D; xxx;&#x2F;&#x2F;可以溢出写，撑长数组<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>JS 中，数组就算没有第 10 位也不报错，因为数组是基于对象的<br>数组常用的方法</p>
<h2 id="1-改变原数组-7-个"><a href="#1-改变原数组-7-个" class="headerlink" title="1.改变原数组 7 个"></a>1.改变原数组 7 个</h2><p>reverse,sort,push,pop,shift,unshift,</p>
<blockquote>
<p>push 把数组的最后一位增加</p>
</blockquote>
<p>封装 push()</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,3];
Array.prototype.push &#x3D; function ()&#123;&#x2F;&#x2F;不能写形参，因为不知道有几个，所以只能用arguments
    for(var i &#x3D; 0; i &lt; arguments.length; i++) &#123;
        this[this.length] &#x3D; arguments[i];
    &#125;
    return this.length;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>pop 删除：把数组的最后一位剪切出去</p>
</blockquote>
<p>arr.pop(); 不能传参</p>
<blockquote>
<p>shift：把前面减 arr.shift()</p>
</blockquote>
<blockquote>
<p>unshift:和 push 方向相反，在前面加东西</p>
</blockquote>
<p>封装 unshift</p>
<p>数组不能向前面放东西，所以用新数组，在拼接起来(concat)</p>
<blockquote>
<p>reverse:逆反</p>
</blockquote>
<blockquote>
<p>sort</p>
</blockquote>
<p>arr.sort();//升序排序</p>
<p>arr.sort().reverse()//降序</p>
<p><strong>但是这个排序是按 ASCII 排的</strong>，so<br>var arr = [1,2,10,2,4,5];不能实现想要的排序<br>实现排序：(冒泡排序) 1.必须两个形参 2.看返回值</p>
<p>(1)返回值为负数，前面的数放在前面<br>(2)为正数，后面的数在前<br>(3)为 0，不动</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,10,2,4,5];
arr.sort(function (a, b) &#123;
    if(a &gt; b) &#123;
        return 1;
    &#125;else&#123;
        return -1;
    &#125;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>简化代码</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">arr.sort(function (a, b) &#123;
    if(a - b &gt; 0) &#123;
        return a - b;
    &#125;else&#123;
        return a - b;
    &#125;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最终</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">arr.sort(function (a, b) &#123;
    return a - b;&#x2F;&#x2F;升序
    &#x2F;&#x2F;return b - a;&#x2F;&#x2F;降序
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>给一个有序数组乱序</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Math.random()    返回(0,1)随机数
&#x2F;&#x2F; var arr &#x3D; [1,2,3,4,5,6,7];
&#x2F;&#x2F; arr.sort(function () &#123;
&#x2F;&#x2F; 	return Math.random() - 0.5;&#x2F;&#x2F;实现可正可负
&#x2F;&#x2F; &#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>对象年龄排序</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var cheng &#x3D; &#123;
    name : &quot;cheng&quot;,
    age : 18,
    sex : &#39;male&#39;,
    face : &quot;handsome&quot;
&#125;
var deng &#x3D; &#123;
    name : &quot;deng&quot;,
    age : 40,
    sex : undefined,
    face : &quot;amazing&quot;
&#125;
var zhang &#x3D; &#123;
    name &#x3D; &quot;zhang&quot;,
    age &#x3D; 20,
    sex &#x3D; &quot;male&quot;
&#125;
var arr &#x3D; [cheng, deng, zhang];
arr.sort(function (a, b) &#123;
    &#x2F;&#x2F; if(a.age &gt; b.age) &#123;
    &#x2F;&#x2F; 	return 1;
    &#x2F;&#x2F; &#125;else&#123;
    &#x2F;&#x2F; 	return -1;
    &#x2F;&#x2F; &#125;
    return a.age - b.age;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>字符串长度排序</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [&#39;ac&#39;,&#39;bcd&#39;,&#39;cccc&#39;,&#39;asfsadshilk&#39;,&#39;casuicbniasbnciuas&#39;];
arr.sort(function (a, b)&#123;
    return a.length - b.length;
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>字节长度排序</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function retBytes(str) &#123;
    var num &#x3D; str.length;
    for(var i &#x3D; 0; i &lt; str.length; i++)&#123;
        if(str.charCodeAt(i) &gt; 255)&#123;
            num ++;
        &#125;
    &#125;
    return num;
&#125;
var arr &#x3D; [&#39;a邓&#39;,&#39;ba邓&#39;,&#39;cc邓cc&#39;,&#39;老邓&#39;,&quot;残邓&quot;,&#39;asdoifqwoeiur&#39;,&#39;asdf&#39;];
arr.sort(function (a, b)&#123;
    return retBytes(a)-retBytes(b);
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>splice:切片</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; arr.splice(从第几位开始，剪切多少长度，在切口处添加新的数据)
arr.splice(1,2);
demo
var arr &#x3D; [1,1,2,2,3,3];
arr.splice(1,1,0,0,0);


var arr &#x3D; [1,2,3,5];&#x2F;&#x2F;实现把4填进去
arr.splice(3,0,4);&#x2F;&#x2F;鼠标光标在前面


arr.splice(-1,1);&#x2F;&#x2F;倒数第一位<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>-1 倒数第一位；1 倒数 第二位怎么实现的</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function-variable function">splice</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  pos <span class="token operator">+=</span> pos <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">//负数</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="2-不改变原数组"><a href="#2-不改变原数组" class="headerlink" title="2.不改变原数组"></a>2.不改变原数组</h2><p>concat,join—&gt;split,toString</p>
<blockquote>
<ol>
<li>concat 连接</li>
</ol>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,3,4,5,6];
var arr1 &#x3D; [7,8,9];
arr.concat(arr1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>toString</p>
</blockquote>
<p>把数组变成字符串</p>
<blockquote>
<p>Slice 截取</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,3,4,5,6];
&#x2F;&#x2F; 1.两个参数，slice（从该位开始截取，截取到该位）
&#x2F;&#x2F; var newArr &#x3D; arr.slice(1,3);
&#x2F;&#x2F; 2.一个参数slice（从第几位开始截取，截取到最后）
var newArr &#x3D; arr.slice(1)
var newArr &#x3D; arr.slice(-4)&#x2F;&#x2F;-4+6位
&#x2F;&#x2F; 3.没参数：全截取<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>join</p>
</blockquote>
<p>实现字符串连接</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1,2,3,4];
arr.join(&quot;-&quot;)&#x2F;&#x2F;必须是字符串形式
arr &#x3D; [1-2-3-4];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>split()互逆方法：按照什么拆分</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var arr &#x3D; [1-2-3-4];
arr.split(&quot;3&quot;)&#x2F;&#x2F;必须是字符串形式<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h1 id="类数组"><a href="#类数组" class="headerlink" title="类数组"></a>类数组</h1><p>是对象，可以当数组一样用</p>
<blockquote>
<p>类数组 1.可以利用属性名模拟数组的特性 2.可以动态的增长 length 属性 3.如果强行让类数组调用 push 方法，则会根据 length 属性值的位置进行属性的扩充。</p>
</blockquote>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test() &#123;
    console.log(arguments);
    arguments.push(7);&#x2F;&#x2F;报错
&#125;
test(1,2,3,4,5,6);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;完成类数组的基本形态构建
var obj &#x3D; &#123;
    &quot;0&quot; : &#39;a&#39;,
    &quot;1&quot; : &#39;b&#39;,
    &quot;2&quot; : &#39;c&#39;,
    &quot;length&quot; : 3,
    &quot;push&quot; : Array.prototype.push
&#125;
obj.push(&#39;d&#39;);
&#x2F;&#x2F;导致length&#x3D;4并且&quot;3&quot;:d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>类数组：是对象，可以当数组一样用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"c"</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  push<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">,</span>
  splice<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>splice<span class="token punctuation">,</span> <span class="token comment">//加上他就变成可以当数组用了,像数组了</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">//类数组组成部分:属性要为索引（数字）属性，必须有length属性，最好加上push</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>length 内部操作手法:</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Array.prototype.push &#x3D; function(target) &#123;
    this[this.length] &#x3D; target;
    this.length ++;
&#125;
&#x2F;&#x2F;如果对象调用，则
Array.prototype.push &#x3D; function(target) &#123;
    obj[obj.length] &#x3D; target;
    obj.length ++;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>类数组所有元素遍历出来</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    &quot;0&quot; : &quot;a&quot;,
    &quot;1&quot; : &quot;b&quot;,
    &quot;2&quot; : &quot;c&quot;,
    name : &quot;abc&quot;,
    age : 123,
    length : 3,
    push : Array.prototype.push,
    splice : Array.prototype.splice
&#125;
for(var prop in obj)&#123;
    console.log(obj[prop])
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>封装 type</p>
<p>typeof([])– array<br>typeof({})– object<br>typeof(function)– function<br>typeof(new Number())– new Object<br>typeof(123)– number<br>分两类：1、原始值 引用值 2、区分引用值</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function type(target) &#123;
    var template &#x3D; &#123;
        &quot;[object Array]&quot; : &quot;array&quot;,
        &quot;[object Object]&quot; : &quot;object&quot;,
        &quot;[object Number]&quot; : &quot;number - object&quot;,
        &quot;[object Boolean]&quot; : &#39;boolean - object&#39;,
        &quot;[object String]&quot; : &#39;string - object&#39;
    &#125;
    if(target &#x3D;&#x3D;&#x3D; null)&#123;
        return &quot;null&quot;;
    &#125;
    &#x2F;&#x2F; if(typeof(target) &#x3D;&#x3D; &#39;function&#39;) &#123;
    &#x2F;&#x2F; 	return &#39;function&#39;;
    &#x2F;&#x2F; &#125;else if(typeof(target) &#x3D;&#x3D; &quot;object&quot;) &#x3D; &#123;
    if(typeof(target) &#x3D;&#x3D; &quot;object&quot;)&#123;
        &#x2F;&#x2F; 数组；
        &#x2F;&#x2F; 对象；
        &#x2F;&#x2F; 包装类Object.prototype.toString
        var str &#x3D; Object.prototype.toString.call(target);
        return template[str];
    &#125;else&#123;&#x2F;&#x2F;原始值
        return typeof(target);
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>数组去重，在原型链上编程 ​ hash 哈西</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">//也是优化，不用每次都this了</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>temp<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">//如果有0，!0==true，所以还是"abc"吧</span>
      temp<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>
      arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h1><p>形式：判断语句? 若为真，执行，并返回结果：若为假，执行，并返回结果<br>三目运算符其实就是简化版的 if(){…}else{}语句<br>条件判断？是 ：否 并且会返回值</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var num &#x3D; 1 &gt; 0 ? 2 + 2 : 1 + 1;
var num &#x3D; 1 &gt; 0 ? (&quot;10&quot; &gt; &quot;9&quot; ? 1 : 0) : 2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h1 id="try…catch"><a href="#try…catch" class="headerlink" title="try…catch"></a>try…catch</h1><p>try{}catch(e) {}一行代码报错影响后面代码执行</p>
<p>finally{}</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//try...catch</span>
<span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//执行到b就不执行了，在try里面发生的错误，不会执行错误后的try里面的代码，打印ad</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>关于 catch</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">try&#123;
    console.log(&#39;a&#39;);
    console.log(b);
    console.log(&#39;c&#39;);
&#125;catch(e)&#123;&#x2F;&#x2F;error  error.message  error.name ---&gt; error
    console.log(e.name + &quot; : &quot; + e.message);
&#125;
console.log(&#39;d&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>小问题</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">try&#123;
    console.log(&#39;a&#39;);
    console.log(b);
    console.log(c);&#x2F;&#x2F;虽然错误，但是不执行
&#125;catch(e)&#123;
    console.log(e.name + &quot; : &quot; + e.message);
&#125;
console.log(&#39;d&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Error.name 的六种值对应的信息：<br>1.EvalError：eval()的使用与定义不一致<br>2.RangeError：数值越界<br>3.ReferenceError：非法或不能识别的引用数值<br>4.SyntaxError：发生语法解析错误<br>5.TypeError：操作数类型错误<br>6.URIError：URI 处理函数使用不当</p>
<h1 id="es5-严格模式"><a href="#es5-严格模式" class="headerlink" title="es5 严格模式"></a>es5 严格模式</h1><p>如今：基于 es3.0+<strong>es5.0 的新增方法</strong> 使用的，如果产生冲突，则遵循 es3.0 的<br>要讲的是怎么让他遵循 es5.0 解决，即 es5.0 的严格模式，则产生冲突的部分用 es5.0，否则 es3.0<br>“use strict”<br>不再兼容 es3 的一些不规则语法。使用全新的 es5 规范。<br>demo1：es5 不允许使用 arguments.callee</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; es5.0严格模式的启动
&quot;use strict&quot;&#x2F;&#x2F;放在逻辑的最顶端
function test() &#123;
    console.log(arguments.callee);
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>demo2</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//es3.0</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token string">"use strict"</span><span class="token punctuation">;</span> <span class="token comment">//内部es5.0</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>两种用法：<br>全局严格模式<br>局部函数内严格模式（推荐）<br>就是一行字符串，不会对不兼容严格模式的浏览器产生影响<br>为什么用字符串”use strict”：可能在老浏览器执行，浏览器版本问题——向后兼容<br>es5 不允许用 with(){} with 可以改变作用域链，with(obj) obj 作为最顶端的 AO</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name : &quot;obj&quot;
&#125;
var name &#x3D; &#39;window&#39;;
function test() &#123;
    var name &#x3D; &#39;scope&#39;;
    with(obj) &#123;&#x2F;&#x2F;如果with里面添加了对象，with(obj),会把对象当做with要执行的代码体的作用域链的最顶端
        console.log(name);
    &#125;
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>演示</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var obj &#x3D; &#123;
    name:&quot;obj&quot;,
    age:234
&#125;
var name &#x3D; &quot;window&quot;;
function test()&#123;
    var age &#x3D; 123;
    var name &#x3D; &quot;scope&quot;;
    with(obj)&#123;
        console.log(name);&#x2F;&#x2F;obj
        console.log(age);&#x2F;&#x2F;234
    &#125;
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>with 作用：简化代码</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var org &#x3D; &#123;
    dp1 : &#123;
        jc : &#123;
            name : &#39;abc&#39;,
            age : 123
        &#125;,
        deng : &#123;
            name : &quot;xiaodneg&quot;,
            age : 234
        &#125;
    &#125;,
    dp2 : &#123;

    &#125;
&#125;
with(org.dp1.jc) &#123;&#x2F;&#x2F;直接访问org.dp1.jc里面的
    console.log(name);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>应用：document 也是对象</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">document&#123;
    write : function () &#123;&#125;
&#125;
with(document) &#123;
    write(&#39;a&#39;);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不支持 with,arguments.callee,func.caller,变量赋值前必须声明，局部 this 必须被赋值,(Person.call(null/undefined) 赋值什么就是什么),拒绝重复属性和参数</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
function test()&#123;
    console.log(this);&#x2F;&#x2F;undefined
&#125;
test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>new 了</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
function Test()&#123;
    console.log(this);&#x2F;&#x2F;控制台显示constructor的名
&#125;
new Test();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>预编译在 es5 严格模式下 this 不在指向 window，没有指向（空），this 必须被赋值，赋值什么就是什么</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
function Test()&#123;
    console.log(this);
&#125;
Test.call(&#123;&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>赋值 123</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
function Test()&#123;
    console.log(this);
&#125;
Test.call(123);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>123 是原始值:ES3 就会变成包装类</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Test()&#123;
    console.log(this);
&#125;
Test.call(123);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>严格模式，在全局，this 指向 window</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
console.log(this);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>es5 拒绝重复<strong>属性和参数</strong>。。es3 里面重复属性和参数是不报错的</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function test (name , name)&#123;
    console.log(name);
&#125;
&#x2F;&#x2F;test(1,2);
&#x2F;&#x2F;test(2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参数报错</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
function test (name , name)&#123;
    console.log(name);
&#125;
test(1,2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>属性不报错</p>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;
var obj&#x3D;&#123;
    name:&#39;112&#39;,
    name:&#39;111&#39;
&#125;
test(1,2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>关于 eval：</p>
<ol>
<li><p>es3 不能用 eval();——能改变作用域</p>
</li>
<li><p>eval 能执行字符串</p>
</li>
</ol>
<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&quot;use strict&quot;;
var a &#x3D; 123;
eval(&#39;console.log(a)&#39;);&#x2F;&#x2F;字符串在eval里面执行<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>面试题：为什么不用 with();</p>
<p>with 可以改变作用域链，改变作用域链，都会降低效率</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Sunny</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2019/12/20/%E5%AF%B9%E8%B1%A1%E5%8C%85%E8%A3%85%E7%B1%BB%E5%8E%9F%E5%BD%A2%E5%8E%9F%E5%9E%8B%E9%93%BE/">http://example.com/2019/12/20/%E5%AF%B9%E8%B1%A1%E5%8C%85%E8%A3%85%E7%B1%BB%E5%8E%9F%E5%BD%A2%E5%8E%9F%E5%9E%8B%E9%93%BE/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Sunny</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Front-end-article/">
                                    <span class="chip bg-color">Front end article</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/01/05/DOM-BOM/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="DOM BOM">
                        
                        <span class="card-title">DOM BOM</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-01-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Sunny
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Front-end-article/">
                        <span class="chip bg-color">Front end article</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/12/15/%E9%97%AD%E5%8C%85/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="闭包">
                        
                        <span class="card-title">闭包</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2019-12-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Sunny
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Front-end-article/">
                        <span class="chip bg-color">Front end article</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2021</span>
            
            <a href="/about" target="_blank">Sunny</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Sunny-117" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:zhiqiangfu6@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1669248141" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1669248141" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
