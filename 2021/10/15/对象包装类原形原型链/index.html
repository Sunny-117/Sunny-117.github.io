

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <meta name="description" content="对象用已学的知识点，描述一下你心目中的对象 1234567891011121314var mrDeng &#x3D; &amp;#123;		    name : &quot;mrDeng&quot;,    age : 40,    sex : &quot;male&quot;,    health : 100,&#x2F;&#x2F;可在控制台更改    smoke : function () &amp;#123;        cons">
<meta property="og:type" content="article">
<meta property="og:title" content="对象包装类原形原型链">
<meta property="og:url" content="http://example.com/2021/10/15/%E5%AF%B9%E8%B1%A1%E5%8C%85%E8%A3%85%E7%B1%BB%E5%8E%9F%E5%BD%A2%E5%8E%9F%E5%9E%8B%E9%93%BE/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="对象用已学的知识点，描述一下你心目中的对象 1234567891011121314var mrDeng &#x3D; &amp;#123;		    name : &quot;mrDeng&quot;,    age : 40,    sex : &quot;male&quot;,    health : 100,&#x2F;&#x2F;可在控制台更改    smoke : function () &amp;#123;        cons">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-15T02:00:39.000Z">
<meta property="article:modified_time" content="2021-10-15T02:01:03.038Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
  
  <title>对象包装类原形原型链 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="对象包装类原形原型链">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-10-15 10:00" pubdate>
        October 15, 2021 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      39k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      121 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">对象包装类原形原型链</h1>
            
            <div class="markdown-body">
              <h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><p>用已学的知识点，描述一下你心目中的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> mrDeng = &#123;		<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;mrDeng&quot;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">40</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">health</span> : <span class="hljs-number">100</span>,<span class="hljs-comment">//可在控制台更改</span><br>    <span class="hljs-attr">smoke</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am smoking&#x27;</span>);<br>        mrDeng.health --;<br>    &#125;,<br>    <span class="hljs-attr">drink</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am drink&#x27;</span>);<br>        mrDeng.health ++;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>改进  第一人称：this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> mrDeng = &#123;		<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;mrDeng&quot;</span>,   千万别是等于号<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">40</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">health</span> : <span class="hljs-number">100</span>,<span class="hljs-comment">//可在控制台更改</span><br>    <span class="hljs-attr">smoke</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am smoking&#x27;</span>);<br>        <span class="hljs-built_in">this</span>.health --;<br>    &#125;,<br>        <span class="hljs-attr">drink</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am drink&#x27;</span>);<br>            <span class="hljs-built_in">this</span>.health ++;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="1-属性的增、删、改、查"><a href="#1-属性的增、删、改、查" class="headerlink" title="1.属性的增、删、改、查"></a>1.属性的增、删、改、查</h2><p>增</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS">drink:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;I am drinking&#x27;</span>);<br>    <span class="hljs-built_in">this</span>.health ++;<br>&#125;<br>meDeng.wife = <span class="hljs-string">&quot;xiaowang&quot;</span>;<br><span class="hljs-comment">// console.log(mrDeng.wife = &quot;xiaoliu&quot;);</span><br><span class="hljs-comment">// console.log(mrDeng);</span><br></code></pre></td></tr></table></figure>

<p>改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(mrDeng);<br><span class="hljs-built_in">console</span>.log(mrDeng.sex = <span class="hljs-string">&quot;male&quot;</span>);<br><span class="hljs-built_in">console</span>.log(mrDeng.sex);<br></code></pre></td></tr></table></figure>

<p>删 delete + 属性</p>
<p><strong>当一个变量没有声明就是用报错，对象的属性没有就访问打印undefined，不会报错</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">prepareWife</span> : <span class="hljs-string">&quot;xiaowang&quot;</span>,<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;laodeng&quot;</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">gf</span> : <span class="hljs-string">&quot;xiaoliu&quot;</span>,<br>    <span class="hljs-attr">wife</span> : <span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">divorce</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">delete</span> <span class="hljs-built_in">this</span>.wife;<br>        <span class="hljs-built_in">this</span>.gf = <span class="hljs-built_in">this</span>.PrepareWife;<br><br>    &#125;,<br>    <span class="hljs-attr">getMarried</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">this</span>.wife = <span class="hljs-built_in">this</span>.gf;<br><br>    &#125;,<br>    <span class="hljs-attr">changePrepareWife</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">someone</span>)</span>&#123;<br>        <span class="hljs-built_in">this</span>.PrepareWife = someone;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-对象的创建方法"><a href="#2-对象的创建方法" class="headerlink" title="2.对象的创建方法"></a>2.对象的创建方法</h2><p>1.var obj = {}   叫plainObject     对象字面量/对象直接量</p>
<p>2.构造函数</p>
<p>（1） 系统自带的构造函数 new Object</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();<br>obj.name = <span class="hljs-string">&#x27;abc&#x27;</span>;<br>obj.sex = <span class="hljs-string">&#x27;female&#x27;</span>;<br>obj.say = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>系统提供的：new Object();Array();Number();Boolean();Date();</p>
<p>（2） 自定义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-comment">//方便使用-人为的，构造函数特点：大驼峰式命名规则，只要是单词，首字母大写（小驼峰式：第一个外的首字母大写）</span><br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;BMW&quot;</span>;<br>    <span class="hljs-built_in">this</span>.height = <span class="hljs-string">&quot;1400&quot;</span>;<br>    <span class="hljs-built_in">this</span>.lang = <span class="hljs-string">&quot;4900&quot;</span>;<br>    <span class="hljs-built_in">this</span>.weight = <span class="hljs-number">1000</span>;<br>    <span class="hljs-built_in">this</span>.health = <span class="hljs-number">100</span>;<br>    <span class="hljs-built_in">this</span>.run = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">this</span>.health --;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car();<span class="hljs-comment">//每个都一样，但是每个都独立</span><br><span class="hljs-keyword">var</span> car1 = <span class="hljs-keyword">new</span> Car();<span class="hljs-comment">//不是一个人，不互通</span><br><span class="hljs-built_in">console</span>.log(car.run());<br><span class="hljs-built_in">console</span>.log(car1.health);<br><span class="hljs-built_in">console</span>.log(car.health);<br></code></pre></td></tr></table></figure>

<p>demo</p>
<p>实现自己选配颜色</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">color</span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.color = color;<br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;BMW&quot;</span>;<br>    <span class="hljs-built_in">this</span>.height = <span class="hljs-string">&quot;1400&quot;</span>;<br>    <span class="hljs-built_in">this</span>.lang = <span class="hljs-string">&quot;4900&quot;</span>;<br>    <span class="hljs-built_in">this</span>.weight = <span class="hljs-number">1000</span>;<br>    <span class="hljs-built_in">this</span>.health = <span class="hljs-number">100</span>;<br>    <span class="hljs-built_in">this</span>.run = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">this</span>.health --;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;red&#x27;</span>);<br><span class="hljs-keyword">var</span> car1 = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;green&#x27;</span>);<br><span class="hljs-built_in">console</span>.log(car/car1);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params">name,age,sex</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>    <span class="hljs-built_in">this</span>.grade = <span class="hljs-number">2017</span>;<br>&#125;<br><span class="hljs-keyword">var</span> student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&#x27;male&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>注意事项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-function"><span class="hljs-title">Object</span>(<span class="hljs-params"></span>)</span>&#123;<br>    obj.name = <span class="hljs-string">&#x27;abc&#x27;</span>;<br>    obj.sex = <span class="hljs-string">&#x27;female&#x27;</span>;<br>    obj.say = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">//冒号</span><br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>构造函数内部原理</p>
</blockquote>
<p>有new  则发生三步</p>
<p>1.在函数体最前面隐式的加上var this = {}<br>2.执行 this.xxx = xxx;<br>3.隐式的返回this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params">name,age,sex</span>) </span>&#123;<br>    <span class="hljs-comment">//var this = &#123;</span><br>    <span class="hljs-comment">// name : &quot;&quot;</span><br>    <span class="hljs-comment">// age : </span><br>    <span class="hljs-comment">// &#125;;</span><br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>    <span class="hljs-built_in">this</span>.grade = <span class="hljs-number">2017</span>;<br>    <span class="hljs-comment">// return this;</span><br>&#125;<br><span class="hljs-keyword">var</span> student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&#x27;male&#x27;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, height</span>)</span>&#123;<br>    <span class="hljs-comment">// var this = &#123;&#125;</span><br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.height = height;<br>    <span class="hljs-built_in">this</span>.say = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.say);<br>    &#125;<br>    <span class="hljs-comment">// return this;</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xiaoliu&#x27;</span>,<span class="hljs-number">180</span>).name);<br></code></pre></td></tr></table></figure>

<p>模拟构造函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, height</span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> that = &#123;&#125;;<br>    that.name = name;<br>    that.height = height;<br>    <span class="hljs-keyword">return</span> that;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xiaowang&#x27;</span>, <span class="hljs-number">180</span>);<br><span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xiaozhang&#x27;</span>,<span class="hljs-number">175</span>);<br></code></pre></td></tr></table></figure>

<p>冷门知识</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, height</span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-built_in">this</span> = &#123;&#125;;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.height = height;<br>    <span class="hljs-built_in">this</span>.say = <span class="hljs-function"><span class="hljs-keyword">function</span>	(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.say);<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;&#125;;<span class="hljs-comment">//显示返回空对象,so person很person1都返回空对象</span><br>    <span class="hljs-comment">// return this;</span><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xiaowang&#x27;</span>, <span class="hljs-number">180</span>);<br><span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xiaozhang&#x27;</span>,<span class="hljs-number">175</span>);<br><span class="hljs-comment">// 但是return一个原始值不允许</span><br></code></pre></td></tr></table></figure>

<p>Object.create(原型)方法</p>
<h1 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h1><h2 id="1-小知识"><a href="#1-小知识" class="headerlink" title="1.小知识"></a>1.小知识</h2><p><strong>原始值不能有属性和方法，只有对象能有，对象包括对象自己，数组，function。</strong><br><strong>数字不一定是原始值。数字分两种：原始值数字才是原始值。数字，字符串分为两种。</strong><br>var num = 123;数字<br>Var num = new number(123);也数字，对象123</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(num);<br><span class="hljs-built_in">console</span>.log(num.abc=<span class="hljs-string">&#x27;a&#x27;</span>);<br><span class="hljs-built_in">console</span>.log(num.abc);<br><span class="hljs-built_in">console</span>.log(num);<br><span class="hljs-built_in">console</span>.log(num*<span class="hljs-number">2</span>);<span class="hljs-comment">//成了数字，没有了对象属性，同理字符串，布尔</span><br></code></pre></td></tr></table></figure>

<p>不能有属性的两个原始值：<strong>undefined null</strong></p>
<p>String();<br>Boolean();<br>Number();</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-number">123</span>);<br><span class="hljs-keyword">var</span> str = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&#x27;abcd&#x27;</span>);<br><span class="hljs-keyword">var</span> bol = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boolean</span>(<span class="hljs-string">&#x27;true&#x27;</span>);<br><span class="hljs-comment">// undefined与null不可以有属性</span><br><span class="hljs-built_in">console</span>.log(num.abc);<br></code></pre></td></tr></table></figure>

<h2 id="2-现象："><a href="#2-现象：" class="headerlink" title="2.现象："></a>2.现象：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> str = “abcd”;<br>str.length = <span class="hljs-number">4</span>;<span class="hljs-comment">//理论上不可以</span><br>str.abc = ‘a’;<br>str.abc = <span class="hljs-literal">undefined</span>;<br></code></pre></td></tr></table></figure>

<p>原始值不可能有属性和方法，因为经历了一个过程——包装类，才能调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = <span class="hljs-number">4</span>;<span class="hljs-comment">//包装类</span><br><span class="hljs-built_in">console</span>.log(num.len = <span class="hljs-number">3</span>);<br><span class="hljs-comment">//new Number(4).len = 3;  delete</span><br><span class="hljs-comment">// new Number(4).len</span><br><span class="hljs-built_in">console</span>.len(num.len);<span class="hljs-comment">//undefined</span><br><span class="hljs-comment">// num没有length</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>考题</p>
</blockquote>
<p>基于一个理论：数组截断</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [a,b,c,d];<br><span class="hljs-built_in">console</span>.log(arr.length = <span class="hljs-number">2</span>);<br><span class="hljs-built_in">console</span>.log(arr);<br></code></pre></td></tr></table></figure>

<p>成哥真题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;abcd&quot;</span>;<br>str.length = <span class="hljs-number">2</span>;<br><span class="hljs-comment">// new String(&#x27;abcd&#x27;).length = 2;delete</span><br><span class="hljs-built_in">console</span>.log(str);<span class="hljs-comment">//abcd</span><br></code></pre></td></tr></table></figure>

<p>变式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;abcd&quot;</span>;<br>str.length = <span class="hljs-number">2</span>;<br><span class="hljs-comment">// new String(&#x27;abcd&#x27;).length = 2;delete</span><br><span class="hljs-comment">// new String(&#x27;abcd&#x27;).length</span><br><span class="hljs-built_in">console</span>.log(str.length);<span class="hljs-comment">//4</span><br></code></pre></td></tr></table></figure>

<h1 id="原形"><a href="#原形" class="headerlink" title="原形"></a>原形</h1><h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h2><p>原型是function对象的一个属性，它定义了构造函数制造出的对象的公共祖先。通过该构造函数产生的对象，可以继承该原型的属性和方法。原型也是对象。</p>
<p>构造函数产生的对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// Person.prototype = &#123;&#125; 是祖先	</span><br>Person.prototype.name = <span class="hljs-string">&quot;hehe&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br></code></pre></td></tr></table></figure>

<p>应用：</p>
<p>实例一：自己有取自己的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.LastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br>Person.prototype.say  = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hehe&#x27;</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// this.LastName = &#x27;ji&#x27;;先看自己后看父亲</span><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br><span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person();<br></code></pre></td></tr></table></figure>

<p>实例二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.LastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br>Person.prototype.say  = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hehe&#x27;</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name,age,sex</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xuming&#x27;</span>,<span class="hljs-number">30</span>,<span class="hljs-string">&#x27;male&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h2 id="2-提取共有属性。"><a href="#2-提取共有属性。" class="headerlink" title="2.提取共有属性。"></a>2.提取共有属性。</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">color,owner</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.owner = owner;<br>    <span class="hljs-built_in">this</span>.carName = <span class="hljs-string">&quot;BMW&quot;</span>;<span class="hljs-comment">//每次生产都得执行这三句，耦合</span><br>    <span class="hljs-built_in">this</span>.height = <span class="hljs-number">1400</span>;<br>    <span class="hljs-built_in">this</span>.lang = <span class="hljs-number">8900</span>;<br>    <span class="hljs-built_in">this</span>.color = color;<br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;prof.ji&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>优化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS">Car.prototype.height = <span class="hljs-number">1400</span>;<br>Car.prototype.lang = <span class="hljs-number">8900</span>;<br>Car.prototype.carName = <span class="hljs-string">&quot;BMW&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">color,owner</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.owner = owner;<br>    <span class="hljs-built_in">this</span>.color = color;<br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;prof.ji&#x27;</span>);<br><span class="hljs-keyword">var</span> car1 = <span class="hljs-keyword">new</span> Car(<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;laodeng&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h2 id="3-原形的增删改查"><a href="#3-原形的增删改查" class="headerlink" title="3.原形的增删改查"></a>3.原形的增删改查</h2><p>增</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<span class="hljs-comment">//原形属性没有改，想改，就要调用Person.prototyoe.lastName</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;xuming&#x27;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(person.lastName=<span class="hljs-string">&quot;james&quot;</span>);<span class="hljs-comment">//这不叫修改，这叫增加</span><br><span class="hljs-built_in">console</span>.log(person);<br><span class="hljs-built_in">console</span>.log(person.lastName);<br></code></pre></td></tr></table></figure>

<p>删</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">delete</span> person.name);<br><span class="hljs-built_in">console</span>.log(person.name);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">delete</span> person.lastName);<br><span class="hljs-built_in">console</span>.log(person.lastName);<span class="hljs-comment">//删除失效</span><br></code></pre></td></tr></table></figure>

<p>优化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS">Car.prototype.height = <span class="hljs-number">1400</span>;<br>Car.prototype.lang = <span class="hljs-number">8900</span>;<br>Car.prototype.carName = <span class="hljs-string">&quot;BMW&quot;</span>;<br>一步到位<br>Car.prototype = &#123;<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">1400</span>,<br>    <span class="hljs-attr">lang</span> : <span class="hljs-number">4900</span>,<br>    <span class="hljs-attr">carName</span> : <span class="hljs-string">&quot;BMW&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>改</p>
<p>2.对象如何查看对象的构造函数 — &gt; constructor构造器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-comment">//可以手动更改</span><br><span class="hljs-comment">//构造器constructor：谁生的</span><br>Car.prototype = &#123;<br>    <span class="hljs-attr">constructor</span> : Person<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car();<br><span class="hljs-built_in">console</span>.log(car.constructor);<br></code></pre></td></tr></table></figure>

<p>查</p>
<ol>
<li>对象如何查看原型 — &gt; 隐式属性 <strong>proto</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<span class="hljs-comment">//浅紫色，隐式命名规则</span><br><span class="hljs-built_in">console</span>.log(person);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS">person.prototype.name = <span class="hljs-string">&#x27;abc&#x27;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br><span class="hljs-comment">// 私人属性：var __pravite</span><br><span class="hljs-built_in">console</span>.log(person.__proto__)<span class="hljs-comment">//__proto__里面放的是原形</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&#x27;abc&#x27;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-built_in">this</span> = &#123;<br>        <span class="hljs-comment">// __proto__: Person.prototype</span><br>    &#125;<br>&#125;<span class="hljs-comment">//先看看自己有没有name属性，没有的话沿着proto指向找</span><br><span class="hljs-keyword">var</span> perosn = <span class="hljs-keyword">new</span> Person();<br><span class="hljs-built_in">console</span>.log(perosn.name);<br></code></pre></td></tr></table></figure>

<p>改变proto指向会使得指向更改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&#x27;abc&#x27;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// var this = &#123;</span><br>    <span class="hljs-comment">// 	// __proto__: Person.prototype</span><br>    <span class="hljs-comment">// &#125;</span><br>&#125;<br><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;sunny&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<span class="hljs-comment">//换爹</span><br>person.__proto__ = obj;<br></code></pre></td></tr></table></figure>

<p>演示1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br>Person.prototype.name = <span class="hljs-string">&quot;cherry&quot;</span>;<br>person.name; <br>分析:自己没有，找proto，是Person.prototype：sunny，最后又改成cherry<br></code></pre></td></tr></table></figure>

<p>演示2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br>Person.prototype.name = <span class="hljs-string">&quot;cherry&quot;</span>;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br><span class="hljs-built_in">console</span>.log(person.name); <br>同理分析cherry<br></code></pre></td></tr></table></figure>

<p>演示3</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br>Person.prototype = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;cherry&quot;</span><br>&#125;<br>person.name; <br>答案：sunny。        <br>.的写法是原有的基础上把原有的值改了，这一次是把原形改了，换了个新对象<br></code></pre></td></tr></table></figure>

<p>简化:引用值的互相赋值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;a&quot;</span>&#125;;<br><span class="hljs-keyword">var</span> obj1 = obj;<br>obj = &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;b&quot;</span>&#125;;<br>obj1:a,<span class="hljs-attr">obj</span>:b     <br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.Prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">//var this = &#123;__proto__:Person.prototype&#125;</span><br>&#125;<span class="hljs-comment">//proto指向不变还是sunny</span><br><span class="hljs-keyword">var</span> person  = <span class="hljs-keyword">new</span> Person();<br>Person.prototype = &#123;<span class="hljs-comment">//把自己空间换了</span><br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;cherry&#x27;</span><br>&#125;<br><span class="hljs-comment">// 更加简化</span><br><span class="hljs-comment">// Perosn.prototype = &#123;name:&quot;a&quot;&#125;;</span><br><span class="hljs-comment">// __proto__ = Person.Prototype;</span><br><span class="hljs-comment">// Person.Prototype = &#123;name:&quot;b&quot;&#125;;</span><br></code></pre></td></tr></table></figure>

<p>演示4</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br>Person.prototype = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;cherry&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br>person.name;<br>答案：cherry<br>预编译：函数 <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123; &#125; 提升到最上面，然后顺序执行，执行到最后一行，有<span class="hljs-keyword">new</span>了，<br>就有<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-keyword">var</span> <span class="hljs-built_in">this</span> = __proto__ Person.prototype &#125; ，再访问：下面的把上覆盖<br></code></pre></td></tr></table></figure>

<p>原型链引入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs JS">Grand.prototype.LastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gand</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> grand = <span class="hljs-keyword">new</span> Grand();<br>Father.prototype = grand;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name  = <span class="hljs-string">&quot;xuming&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br>Son.prototype = father;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.hobbit = <span class="hljs-string">&quot;somke&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br><span class="hljs-built_in">console</span>.log(son.hobbit);<br><span class="hljs-built_in">console</span>.log(son.name);<span class="hljs-comment">//顺着链找</span><br><span class="hljs-built_in">console</span>.log(son.toString);<br>Grand.prototype.__proto__=<span class="hljs-built_in">Object</span>.prototype是所有对象的最终原形<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.__proto__);proto没了，so就是终端	<br></code></pre></td></tr></table></figure>

<h1 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h1><p>如何构成原型链?  </p>
<h2 id="1-原型链上属性的增删改查"><a href="#1-原型链上属性的增删改查" class="headerlink" title="1.原型链上属性的增删改查"></a>1.原型链上属性的增删改查</h2><p>增，删，修改：只有本人有权限，子孙没有</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">delete</span> Father.prototype.n);<span class="hljs-comment">//删不了</span><br></code></pre></td></tr></table></figure>

<p>特例：引用值调用修改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> grand = <span class="hljs-keyword">new</span> Grand();<br>Father.prototype = grand;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&#x27;xuming&#x27;</span>;<br>    <span class="hljs-built_in">this</span>.fortune = &#123;<br>        <span class="hljs-attr">card1</span> : <span class="hljs-string">&#x27;visa&#x27;</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br>Son.prototype = father;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.hobbit = <span class="hljs-string">&quot;somoke&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> son =  <span class="hljs-keyword">new</span> Son();<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(son.fortune);<br>son.fortune = <span class="hljs-number">200</span>;<br><span class="hljs-built_in">console</span>.log(son);<br><span class="hljs-built_in">console</span>.log(father.fortune);<br>son.fortune.card2 = <span class="hljs-string">&#x27;master&#x27;</span>;<br>cons.log(father);<br></code></pre></td></tr></table></figure>

<p>demo</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS">Grand.prototype.LastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Grand</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> grand = <span class="hljs-keyword">new</span> Grand();<br>Father.prototype = grand;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;xuming&quot;</span>;<br>    <span class="hljs-built_in">this</span>.forture = &#123;<br>        <span class="hljs-attr">card1</span> : <span class="hljs-string">&#x27;visa&#x27;</span><br>    &#125;;<br>    <span class="hljs-built_in">this</span>.num = <span class="hljs-number">100</span>;<br>&#125;<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br>Son.prototype = father;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.hobbit = <span class="hljs-string">&quot;smoke&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(son.num++);<span class="hljs-number">100</span><br><span class="hljs-built_in">console</span>.log(father);<span class="hljs-number">100</span><br><span class="hljs-built_in">console</span>.log(son.num);<span class="hljs-number">101</span><br></code></pre></td></tr></table></figure>

<p>演示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;a&quot;</span>,<br>    <span class="hljs-attr">sayName</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<span class="hljs-comment">//答案：a</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;a&quot;</span>,<br>    <span class="hljs-attr">sayName</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;b&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br></code></pre></td></tr></table></figure>

<p>小常识：<br>a.sayName()<br>sayName里面的this指向是，谁调用的这个方法，this就指向谁<br>person.sayName();    person调用的，b<br>如果Person.prototype.sayName();    a</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype = &#123;<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">100</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.eat = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">this</span>.height ++;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(person.eat);<br>person.eat();<br><span class="hljs-built_in">console</span>.log(person.eat);<span class="hljs-comment">//默認return：undefined 查看要写代码</span><br></code></pre></td></tr></table></figure>

<p>公司规范：数组，对象都用字面量创建</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;&#125;;<span class="hljs-comment">//对象自变量创建形式，有原形</span><br><span class="hljs-comment">//与var obj1 = new Object();相同</span><br><span class="hljs-keyword">var</span> obj = &#123;&#125;;内部来一个<span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>()<br>所以要写对象字面量<br></code></pre></td></tr></table></figure>

<blockquote>
<p>绝大多数对象的最终都会继承自Object.prototype</p>
</blockquote>
<p>（选择题真题）<br>例外：由于Object.create</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.create());<span class="hljs-comment">//报错，不写代码</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>));<br></code></pre></td></tr></table></figure>

<blockquote>
<p>Object.create(原型)也能创造对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// var obj = Object(原形);</span><br><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;sunny&quot;</span>, <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>&#125;;<br><span class="hljs-keyword">var</span> obj1 = <span class="hljs-built_in">Object</span>.create(obj);<br><span class="hljs-comment">// obj1成为了对象，obj1的原形是obj,所以obj1.name就是obj.name</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS">Person.prototype.name = <span class="hljs-string">&quot;sunny&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-built_in">Object</span>.create(Person.prototype);<br></code></pre></td></tr></table></figure>

<h2 id="2-关于toString"><a href="#2-关于toString" class="headerlink" title="2.关于toString:"></a>2.关于toString:</h2><p><strong>只有undefined与null不能调用toString</strong><br>数字可以，因为经过包装类一层层访问123.toString();<br>undefined没有包装类，是个原始值，没有原形，不能调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span>.toString);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">null</span>.toString);<br>obj.__proto__ = &#123; <span class="hljs-attr">name</span>: sunny&#125;;<br><span class="hljs-built_in">console</span>.log(obj.name);<span class="hljs-comment">//自己加原形不管用</span><br></code></pre></td></tr></table></figure>

<p>各个变量各个属性值调用toString返回结果不一样   变成字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = <span class="hljs-number">123</span>;<br><span class="hljs-built_in">console</span>.log(num.toString);<span class="hljs-comment">//字符串</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">123.</span>toString);<span class="hljs-comment">//识别成浮点型</span><br></code></pre></td></tr></table></figure>

<p>现象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;&#125;;<br>obj.toString();----&gt;[object <span class="hljs-built_in">Object</span>]<br></code></pre></td></tr></table></figure>

<p>原因</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = <span class="hljs-number">123</span>;<br><span class="hljs-comment">// num.toString();--&gt;new Number(num).toString();</span><br><span class="hljs-built_in">Number</span>.prototype.toString = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-comment">// Number.prototype.__proto__ = Object.prototype</span><br></code></pre></td></tr></table></figure>

<p>重写笔试题:写一个方法重写形式，写一个和系统同样的名，不同功能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// Object.prototype.toString = function ()&#123;</span><br><span class="hljs-comment">// &#125; </span><br>Person.prototype = &#123;<br>    <span class="hljs-attr">toString</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;hehhe&#x27;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span> (<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> Person = <span class="hljs-keyword">new</span> Person();<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>本集多看弱项</strong></p>
</blockquote>
<h2 id="3-小bug"><a href="#3-小bug" class="headerlink" title="3.小bug"></a>3.小bug</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-number">0.4</span>*<span class="hljs-number">100</span>);<span class="hljs-comment">//js精度不准</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.ceil(<span class="hljs-number">123.234</span>));<span class="hljs-comment">//向上取整</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">123.99999</span>));<span class="hljs-comment">//下</span><br></code></pre></td></tr></table></figure>

<p>随机生成0-100随机数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">Math</span>.random();<span class="hljs-comment">//随机数生成函数(0,1)</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">10</span>; i++)&#123;<br>    <span class="hljs-keyword">var</span> num  = <span class="hljs-built_in">Math</span>.random().toFixed(<span class="hljs-number">2</span>)*<span class="hljs-number">100</span>;<br>    <span class="hljs-built_in">console</span>.log(num);<span class="hljs-comment">//会出现偏差</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>解决:先*100后取整</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;<br>    <span class="hljs-keyword">var</span> num = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>);<br>    <span class="hljs-built_in">console</span>.log(num);<br>&#125;<br><span class="hljs-comment">// 总结：可正常那个计算的范围：小数点前16后16</span><br></code></pre></td></tr></table></figure>

<h1 id="call-apply-必考"><a href="#call-apply-必考" class="headerlink" title="call/apply 必考"></a>call/apply <code>必考</code></h1><h2 id="1-call"><a href="#1-call" class="headerlink" title="1.call"></a>1.call</h2><p><strong>作用，改变this指向。借用别人的函数实现自己的功能</strong><br><strong>区别，后面传的参数形式不同。</strong><br>call需要把实参按照形参的个数传出去    apply需要传一个arguments</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br>test()===test.call();<span class="hljs-comment">//后面隐式默认</span><br></code></pre></td></tr></table></figure>

<p>call里面可以传东西</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age</span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;deng&#x27;</span>,<span class="hljs-number">100</span>);<br><span class="hljs-keyword">var</span> obj = &#123;<br>&#125;<br><span class="hljs-comment">// Person.call(obj);</span><br><span class="hljs-comment">// 会让Person里所有的this变成obj 即this=obj</span><br><span class="hljs-comment">// 怎么传参：Person.call(obj,&#x27;cheng&#x27;,300);</span><br>Person.call(obj,<span class="hljs-string">&#x27;cheng&#x27;</span>,<span class="hljs-number">300</span>);<br></code></pre></td></tr></table></figure>

<p>企业级开发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//开发讲究快准狠，A写的代码能实现B的功能，省时</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age, sex</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params">name, age, sex, tel, grade</span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>    <span class="hljs-built_in">this</span>.tel = tel;<br>    <span class="hljs-built_in">this</span>.grade = grade;<span class="hljs-comment">//后面覆盖前面</span><br>&#125;<br><span class="hljs-comment">// call 借用别人的函数实线自己的功能</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age, sex</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params">name, age, sex, tel, grade</span>)</span>&#123;<br>    <span class="hljs-comment">// var this = &#123;name : &quot;&quot;, age : &quot;&quot;,sex : &quot;&quot;&#125;</span><br>    Person.call(<span class="hljs-built_in">this</span>, name, age, sex);<br>    <span class="hljs-built_in">this</span>.tel = tel;<br>    <span class="hljs-built_in">this</span>.grade = grade;<br>&#125;<br><span class="hljs-keyword">var</span> student = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&#x27;sunny&#x27;</span>,<span class="hljs-number">123</span>,<span class="hljs-string">&#x27;male&#x27;</span>,<span class="hljs-number">139</span>,<span class="hljs-number">2017</span>);<br></code></pre></td></tr></table></figure>

<p>造车举例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wheel</span>(<span class="hljs-params">wheelSize,style</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.style = style;<br>    <span class="hljs-built_in">this</span>.wheelSize = wheelSize;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Sit</span>(<span class="hljs-params">c,sitColor</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.c = c;<br>    <span class="hljs-built_in">this</span>.sitColor = sitColor;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Model</span>(<span class="hljs-params">height,width,len</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.height = height;<br>    <span class="hljs-built_in">this</span>.width = width;<br>    <span class="hljs-built_in">this</span>.len = len;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Car</span>(<span class="hljs-params">wheelSize, style, c, sitColor, height, width, len</span>) </span>&#123;<br>    Wheel.call(<span class="hljs-built_in">this</span>, wheelSize,style);<br>    Sit.call(<span class="hljs-built_in">this</span>,c,sitColor);<br>    Model.call(<span class="hljs-built_in">this</span>, height, width, len);<br>&#125;<br><span class="hljs-keyword">var</span> car = <span class="hljs-keyword">new</span> Car(<span class="hljs-number">100</span>,<span class="hljs-string">&#x27;花里胡哨的&#x27;</span>,<span class="hljs-string">&#x27;真皮&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-number">1800</span>,<span class="hljs-number">1900</span>,<span class="hljs-number">4900</span>);<br></code></pre></td></tr></table></figure>

<h2 id="2-apply："><a href="#2-apply：" class="headerlink" title="2.apply："></a>2.apply：</h2><p>apply只能传送一个数组形式的实参<br>Wheel.apply(this, [wheelSize,style]);</p>
<p>总结：</p>
<p>call：<strong>需要把实参按照形参的个数传进去</strong></p>
<p>apply: <strong>需要传一个arguments</strong></p>
<p>作业:电子书js设计模式0-35页上部分</p>
<p>笔试题：用友2017校招前端</p>
<h1 id="继承发展史"><a href="#继承发展史" class="headerlink" title="继承发展史"></a>继承发展史</h1><h2 id="1-传统形式"><a href="#1-传统形式" class="headerlink" title="1.传统形式"></a>1.传统形式</h2><blockquote>
<p>过多的继承了没用的属性</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS">Grand.prototype.lastName = <span class="hljs-string">&quot;Ji&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Grand</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> grand = <span class="hljs-keyword">new</span> Grand();<br>Father.prototype = grand;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;hehe&quot;</span>;<br>&#125;<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br>Son.prototype = father;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<span class="hljs-comment">//一系列从头到尾继承，导致不想继续的也继承了</span><br></code></pre></td></tr></table></figure>

<h2 id="2-借用构造函数"><a href="#2-借用构造函数" class="headerlink" title="2.借用构造函数"></a>2.借用构造函数</h2><p>不能继承借用构造函数的原型<br>每次构造函数都要多走一个函数实际浪费效率</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name,age,sex</span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>    <span class="hljs-built_in">this</span>.sex = sex;<br>&#125;<span class="hljs-comment">//实际上call apply不是继承</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Student</span>(<span class="hljs-params">name, age, sex, grade</span>) </span>&#123;<br>    Person.call(<span class="hljs-built_in">this</span>,name,age,sex);<br>    <span class="hljs-built_in">this</span>.grade = grade;<br>&#125;<br><span class="hljs-keyword">var</span> student = <span class="hljs-keyword">new</span> Student();<br></code></pre></td></tr></table></figure>

<h2 id="3-共享原型"><a href="#3-共享原型" class="headerlink" title="3.共享原型"></a>3.共享原型</h2><p>不能随便改动自己的原型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS">Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-comment">// Son想继承father的prototype</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>实现方法</p>
<ol>
<li><p>原型链</p>
<p>function Son()上面放上var father…</p>
</li>
<li><p>共有原形</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS">Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>) </span>&#123;<br>&#125;<br>Son.prototype = Father.prototype<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br></code></pre></td></tr></table></figure>

<p>抽象成函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS">Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>) </span>&#123;<br>    Target.prototype = Origin.prototype;<br>&#125;<br>inherit(Son, Father);<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<span class="hljs-comment">//son.LastName = &quot;Deng&quot;;</span><br></code></pre></td></tr></table></figure>

<p>要先继承后使用，Son.lastName指向原来的空间</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS">Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>) </span>&#123;<br>    Target.prototype = Origin.prototype;<br><br>&#125;<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br>inherit(Son, Father);	<span class="hljs-comment">//先继承，后该原形不管用 son.lastName = undefined</span><br></code></pre></td></tr></table></figure>

<p>不足：</p>
<p>son给自己多加一个属性，方便后续生产出的对象使用，不能个性实现，继承了，但是影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs JS">Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>)</span>&#123;<br>    Target.prototype = Origin.prototype;<br><br>&#125;<br>inherit(Son, Father);<br>Son.prototype.sex = <span class="hljs-string">&quot;male&quot;</span>;<span class="hljs-comment">//与father的prototype一致，一个变，都变</span><br>Father.prototype<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br><span class="hljs-comment">// 要实现：想继承但不相互影响</span><br></code></pre></td></tr></table></figure>

<h2 id="4-圣杯模式"><a href="#4-圣杯模式" class="headerlink" title="4.圣杯模式"></a>4.圣杯模式</h2><h3 id="通过原型链"><a href="#通过原型链" class="headerlink" title="通过原型链"></a>通过原型链</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>) </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params"></span>)</span>&#123;&#125;;<br>    F.prototype = Origin.prototype;<br>    Target.prototype = <span class="hljs-keyword">new</span> F();<br>&#125;<br>Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;<br>inherit(Son,Father);<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son;<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br><span class="hljs-built_in">console</span>.log(Son.prototype.sex = <span class="hljs-string">&quot;male&quot;</span>);<br><span class="hljs-built_in">console</span>.log(son.sex);<br><span class="hljs-built_in">console</span>.log(father.sex);<br><span class="hljs-built_in">console</span>.log(Father.prototype);<br></code></pre></td></tr></table></figure>

<p>但是，constructor应该指向构造函数，然而，son.constructor = ƒ Father()？？？？怎么回事？</p>
<blockquote>
<p>原形上系统自带的一个属性叫constructor，<strong>默认指向他的构造函数</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS">son.__proto__ ---&gt;<span class="hljs-keyword">new</span> F().__proto__---&gt;Father.prototype<br><span class="hljs-comment">//指向紊乱了</span><br></code></pre></td></tr></table></figure>

<p>实现继承：必会圣杯模式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inherit</span>(<span class="hljs-params">Target, Origin</span>)</span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params"></span>)</span>&#123;&#125;;<br>    F.prototype = Origin.prototype;<br>    Target.prototype = <span class="hljs-keyword">new</span> F();<br>    Target.prototype.constructor = Target;<br>    Target.prototype.uber = Origin.prototype;<span class="hljs-comment">//超级父级：超类</span><br>&#125;<br>Father.prototype.lastName = <span class="hljs-string">&quot;Deng&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Father</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Son</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br>inherit(Son, Father);<br><span class="hljs-keyword">var</span> son = <span class="hljs-keyword">new</span> Son();<br><span class="hljs-keyword">var</span> father = <span class="hljs-keyword">new</span> Father();<br></code></pre></td></tr></table></figure>

<p>颠倒</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS">F.prototype = Origin.prototype;<br>Target.prototype = <span class="hljs-keyword">new</span> F();<span class="hljs-comment">//不能颠倒，一定要在new之前改原形</span><br></code></pre></td></tr></table></figure>

<h3 id="类雅虎"><a href="#类雅虎" class="headerlink" title="类雅虎"></a>类雅虎</h3><p>闭包的作用：可以实现封装，属性私有化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Deng</span>(<span class="hljs-params">name, wife</span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> prepareWife = <span class="hljs-string">&quot;xiaozhang&quot;</span>;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.wife = wife;<br>    <span class="hljs-built_in">this</span>.divorce = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">this</span>.wife = prepareWife;<br>    &#125;<br>    <span class="hljs-built_in">this</span>.changePrepareWife = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target</span>)</span>&#123;<br>        prepareWife = target;<br>    &#125;<br>    <span class="hljs-built_in">this</span>.sayPreparewife = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(prepareWife);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> deng = <span class="hljs-keyword">new</span> Deng(<span class="hljs-string">&#x27;deng&#x27;</span>,<span class="hljs-string">&#x27;xiaoliu&#x27;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(deng.sayPreparewife());<br><span class="hljs-built_in">console</span>.log(deng.Preparewife)<span class="hljs-comment">//直接看看不到  即私有化变量</span><br></code></pre></td></tr></table></figure>

<p>F变成了私有化变量 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> inherit = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> F = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;;<span class="hljs-comment">//F放在闭包，私有化变量</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Target,Origin</span>)</span>&#123;<br>        F.prototype = Origin.prototype;<br>        Target.prototype = <span class="hljs-keyword">new</span> F();<br>        Target.prototype.constuctor = Target;<br>        Target.prototype.uber = Origin.prototype;<br>    &#125;<br>&#125;());<br></code></pre></td></tr></table></figure>

<p><strong>离散数学</strong>（重要）——&gt;CS专业（计算机专业），，，，概率论,人工智能</p>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><blockquote>
<p>就是对象</p>
</blockquote>
<p>管理变量，防止污染全局，适用于模块化开发</p>
<p>一个页面，多人协作，合并冲突</p>
<h2 id="1-老办法：命名空间"><a href="#1-老办法：命名空间" class="headerlink" title="1.老办法：命名空间"></a>1.老办法：命名空间</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> org = &#123;<br>    <span class="hljs-attr">department1</span> : &#123;<br>        <span class="hljs-attr">jicheng</span> : &#123;<br>            <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;abc&quot;</span>;<br>            age : <span class="hljs-number">123</span>;<br>        &#125;,<br>        <span class="hljs-attr">xuming</span> : &#123;<br><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">department2</span> : &#123;<br>        <span class="hljs-attr">zhangsan</span> : &#123;<br><br>        &#125;,<br>        <span class="hljs-attr">lisi</span> : &#123;<br><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> jicheng = org.department1.jicheng;<br>jicheng.name;<br></code></pre></td></tr></table></figure>

<h2 id="2-新方法：闭包私有化变量"><a href="#2-新方法：闭包私有化变量" class="headerlink" title="2.新方法：闭包私有化变量"></a>2.新方法：闭包私有化变量</h2><p>webpack</p>
<blockquote>
<p>闭包（实现变量私有化）+立即执行函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;bac&quot;</span>;<br><span class="hljs-keyword">var</span> init = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;abc&quot;</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callName</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(name);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        callName();<br>    &#125;<br>&#125;())<br>init();<br></code></pre></td></tr></table></figure>

<p>协作也不冲突</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;bac&quot;</span>;<br><span class="hljs-keyword">var</span> init = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;abc&quot;</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callName</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(name);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        callName();<br>    &#125;<br>&#125;())<br><span class="hljs-keyword">var</span> initDeng = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-number">123</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callName</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(name);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        callName();<br>    &#125;<br>&#125;())<br></code></pre></td></tr></table></figure>

<blockquote>
<p>如何实现链式调用模式（模仿jquery）<br>obj.eat().smoke().drink().eat().sleep();</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS">$(<span class="hljs-string">&#x27;div&#x27;</span>).css(<span class="hljs-string">&#x27;background-color&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>).width(<span class="hljs-number">100</span>).height(<span class="hljs-number">100</span>).<br>html(<span class="hljs-number">123</span>).css(<span class="hljs-string">&#x27;position&#x27;</span>,<span class="hljs-string">&#x27;absolute&#x27;</span>).<br>css(<span class="hljs-string">&#x27;left&#x27;</span>,<span class="hljs-string">&#x27;100px&#x27;</span>).css(<span class="hljs-string">&#x27;top&#x27;</span>,<span class="hljs-string">&#x27;100px&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>模拟jQuery实现连续调用方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">smoke</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Smoking...xuan cool!!!&#x27;</span>);<br>    &#125;,<br>    <span class="hljs-attr">drink</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Drinking...good&#x27;</span>);<br>    &#125;,<br>    <span class="hljs-attr">perm</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;perming...cool&#x27;</span>);<br>    &#125;<br>&#125;<br>deng.smoke();<br>deng.drink();<br>deng.perm();<span class="hljs-comment">//怎么实现JQ一样连续调用</span><br></code></pre></td></tr></table></figure>

<p>为什么不能连续调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Smoking...xuan cool!!!&#x27;</span>);<br><span class="hljs-comment">// return undefined;</span><br></code></pre></td></tr></table></figure>

<p>方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">smoke</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Smoking...xuan cool!!!&#x27;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;,<br>    <span class="hljs-attr">drink</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Drinking...good&#x27;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;,<br>    <span class="hljs-attr">perm</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;perming...cool&#x27;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;<br>&#125;<br>deng.smoke().drink().perm().smoke().drink();<br></code></pre></td></tr></table></figure>

<h1 id="查看属性"><a href="#查看属性" class="headerlink" title="查看属性"></a>查看属性</h1><p>想实现num为几，就叫哪个媳妇</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">wife1</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaoliu&quot;</span>&#125;,<br>    <span class="hljs-attr">wife2</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaozhang&quot;</span>&#125;,<br>    <span class="hljs-attr">wife3</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaowang&quot;</span>&#125;,<br>    <span class="hljs-attr">wife4</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaoli&quot;</span>&#125;,<br>    <span class="hljs-attr">sayWife</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) </span>&#123;<br>        <span class="hljs-keyword">switch</span>(num) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.wife1;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>把上述代码简化：变量拼接属性名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;abc&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>**obj.name—-&gt;obj[‘name’];**内部会转换成方括号，so这样写也对<br>方括号可以字符串拼接<br>功能实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">wife1</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaoliu&quot;</span>&#125;,<br>    <span class="hljs-attr">wife2</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaozhang&quot;</span>&#125;,<br>    <span class="hljs-attr">wife3</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaowang&quot;</span>&#125;,<br>    <span class="hljs-attr">wife4</span> : &#123;<span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaoli&quot;</span>&#125;,<br>    <span class="hljs-attr">sayWife</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) </span>&#123;<br>        <span class="hljs-keyword">switch</span>(num) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>[<span class="hljs-string">&#x27;wife&#x27;</span> + num];<span class="hljs-comment">//字符串加啥都是字符串</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.log(deng.sayWife(<span class="hljs-number">1</span>));<br></code></pre></td></tr></table></figure>

<h1 id="对象的枚举"><a href="#对象的枚举" class="headerlink" title="对象的枚举"></a>对象的枚举</h1><blockquote>
<p>for in 循环</p>
</blockquote>
<p>数据组的遍历：想知道十个人的信息，挨个知道</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];<br><span class="hljs-comment">//遍历 枚举 enumeration</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++)&#123;<br>    <span class="hljs-built_in">console</span>.log(arr[i]);<span class="hljs-comment">//遍历</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>如果想查找（遍历）对象的呢（不知道啥类型，编辑器角度）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;123&quot;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">180</span>,<br>    <span class="hljs-attr">weight</span> : <span class="hljs-number">75</span><br>    <span class="hljs-comment">//prop:123</span><br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> obj)&#123;<br>    <span class="hljs-built_in">console</span>.log(obj.prop);<span class="hljs-comment">//不好使---obj.prop---&gt;obj[&#x27;prop&#x27;]当成属性了</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>正解：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;13&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">180</span>,<br>    <span class="hljs-attr">weight</span> : <span class="hljs-number">178</span>,<br>    <span class="hljs-attr">__proto__</span> : &#123;<br>        <span class="hljs-attr">lastName</span> : <span class="hljs-string">&quot;deng&quot;</span><span class="hljs-comment">//也会把原形东西拿出来，不想把原形拿出来————hasOwnProperty</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> obj) &#123;<br>    <span class="hljs-built_in">console</span>.log(obj[prop]);<br>    <span class="hljs-comment">//console.log(obj[&#x27;prop&#x27;]);//跟obj.prop一样，这样也不对</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>实现obj1里面属性+1返回<br>错误示范</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj1 = &#123;<br>    <span class="hljs-attr">a</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">b</span> : <span class="hljs-number">234</span>,<br>    <span class="hljs-attr">c</span> : <span class="hljs-number">456</span><br>&#125;<br><span class="hljs-keyword">var</span> key;<br><span class="hljs-keyword">for</span>(key <span class="hljs-keyword">in</span> obj1) &#123;<span class="hljs-comment">//这样写也行</span><br>    obj1.key ++;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="1-hasOwnProperty（重点）"><a href="#1-hasOwnProperty（重点）" class="headerlink" title="1.hasOwnProperty（重点）"></a>1.hasOwnProperty（重点）</h2><p>过滤性方法</p>
<p>判断这个属性是否是<strong>自己</strong>的(不是原形链的)<br>true<br>false</p>
<p>不想把原形拿出来demo</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;13&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">180</span>,<br>    <span class="hljs-attr">weight</span> : <span class="hljs-number">178</span>,<br>    <span class="hljs-attr">__proto__</span> : &#123;<br>        <span class="hljs-attr">lastName</span> : <span class="hljs-string">&quot;deng&quot;</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> obj) &#123;<br>    <span class="hljs-keyword">if</span>(obj.hasOwnProperty(prop))&#123;<br>        <span class="hljs-built_in">console</span>.log(obj[prop]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>自己设的一定能打印，系统设的一定不能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;13&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">180</span>,<br>    <span class="hljs-attr">weight</span> : <span class="hljs-number">178</span>,<br>    <span class="hljs-attr">__proto__</span> : &#123;<br>        <span class="hljs-attr">lastName</span> : <span class="hljs-string">&quot;deng&quot;</span>,<br>        <span class="hljs-attr">__proto__</span> : <span class="hljs-built_in">Object</span>.prototype<span class="hljs-comment">//一旦延展的原型链的最顶端，不会打印最顶端</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-in"><a href="#2-in" class="headerlink" title="2.in"></a>2.in</h2><p> 和hasOwnProperty类似</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;13&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&quot;male&quot;</span>,<br>    <span class="hljs-attr">height</span> : <span class="hljs-number">180</span>,<br>    <span class="hljs-attr">weight</span> : <span class="hljs-number">178</span>,<br>    <span class="hljs-attr">__proto__</span> : &#123;<br>        <span class="hljs-attr">lastName</span> : <span class="hljs-string">&quot;deng&quot;</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">//console.log(height in obj)//height叫变量</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;height&#x27;</span> <span class="hljs-keyword">in</span> obj)<span class="hljs-comment">//height这个属性名存不存在于obj</span><br>concole.log(<span class="hljs-string">&#x27;lastName&#x27;</span> <span class="hljs-keyword">in</span> obj)<br></code></pre></td></tr></table></figure>

<p>和hasOwnProperty的区别：<br>In判断能不能访问到这个属性或者原形（只能判断对象上能不能访问到这个属性，也可以在父级找）<br>hasOwnProperty判断属性属不属于这个对象<br>开发从来不用</p>
<h2 id="3-instanceof（重点）"><a href="#3-instanceof（重点）" class="headerlink" title="3.instanceof（重点）"></a>3.instanceof（重点）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>&#123;<br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> Person();<br><span class="hljs-keyword">var</span> obj = &#123;&#125;;<br><span class="hljs-comment">// A对象是不是B构造函数构造出来的</span><br><span class="hljs-built_in">console</span>.log(person <span class="hljs-keyword">instanceof</span> Person);<br><span class="hljs-comment">// ----&gt;ture</span><br></code></pre></td></tr></table></figure>

<p>看A对象的的原型链上有么有B的原形（重点）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(person <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>);<br>----&gt;ture<br><span class="hljs-built_in">console</span>.log([] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>);<br>----&gt;ture<br><span class="hljs-built_in">console</span>.log([] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>);<br>----&gt;ture<br><span class="hljs-built_in">console</span>.log(person <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>);<br>----&gt;<span class="hljs-literal">false</span><br><span class="hljs-built_in">console</span>.log(obj <span class="hljs-keyword">instanceof</span> Person);<br>----&gt;<span class="hljs-literal">false</span> <span class="hljs-comment">//两个没关系</span><br></code></pre></td></tr></table></figure>

<p>解决的问题</p>
<blockquote>
<p>判断变量是数组还是对象（机器识别）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">typeof</span>([])<br><span class="hljs-string">&quot;object&quot;</span><br><span class="hljs-keyword">typeof</span>(&#123;&#125;)<br><span class="hljs-string">&quot;object&quot;</span><br><span class="hljs-comment">//需求：</span><br><span class="hljs-keyword">var</span> arr = [] || &#123;&#125;;<br></code></pre></td></tr></table></figure>

<p>第一种方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;&#125;;<span class="hljs-comment">//var obj = [];</span><br>obj.constructor<span class="hljs-comment">//直接区分出来了</span><br></code></pre></td></tr></table></figure>

<p>第二种方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS">[] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>	 <span class="hljs-comment">//true</span><br><span class="hljs-keyword">var</span> obj = &#123;&#125;;<br>obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> <span class="hljs-comment">//false</span><br></code></pre></td></tr></table></figure>

<p>第三种方法：toString</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">Object</span>.prototype.toString.call([]);<br><span class="hljs-comment">//Object.prototype.toString = function ()&#123;</span><br><span class="hljs-comment">//谁调用，this就是谁</span><br><span class="hljs-comment">//识别this:</span><br><span class="hljs-comment">//返回相应结果</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-comment">// obj.toString();</span><br><span class="hljs-comment">// call.toString();</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call([]);<span class="hljs-comment">//数组会替换this</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">123</span>);<br><span class="hljs-built_in">Object</span>.prototype.toString.call(&#123;&#125;);<span class="hljs-comment">//区别数组和对象</span><br></code></pre></td></tr></table></figure>

<p>控制台验证</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">Object</span>.prototype.toString.call([]);<br><span class="hljs-string">&quot;[object Array]&quot;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(&#123;&#125;)<br><span class="hljs-string">&quot;[object Object]&quot;</span><br><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">123</span>);<br><span class="hljs-string">&quot;[object Number]&quot;</span><br></code></pre></td></tr></table></figure>

<h1 id="this"><a href="#this" class="headerlink" title="this"></a>this</h1><h2 id="1-函数预编译过程-this-—-gt-window"><a href="#1-函数预编译过程-this-—-gt-window" class="headerlink" title="1.函数预编译过程 this —&gt; window"></a>1.函数预编译过程 this —&gt; window</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">c</span>) </span>&#123;<br>    <span class="hljs-comment">//var this = Object.create(test.prototype);</span><br>    <span class="hljs-comment">//相当于</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">// 	__proto__ : test.prototype</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br>&#125;<br><span class="hljs-comment">//AO&#123;</span><br><span class="hljs-comment">//  arguments : [1],//自带的</span><br><span class="hljs-comment">//  this : window,//自带的</span><br><span class="hljs-comment">//  c : 1,</span><br><span class="hljs-comment">//  a : undefined,</span><br><span class="hljs-comment">//  b : function() &#123;&#125;</span><br><span class="hljs-comment">//&#125;</span><br>test(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">new</span> test();<span class="hljs-comment">//new导致this指向发生了改变，不在是window了</span><br></code></pre></td></tr></table></figure>

<p>验证</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<h2 id="2-全局作用域里-this-—-gt-window"><a href="#2-全局作用域里-this-—-gt-window" class="headerlink" title="2.全局作用域里 this —&gt; window"></a>2.全局作用域里 this —&gt; window</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>);<br></code></pre></td></tr></table></figure>

<h2 id="3-call-apply-可以改变函数运行时this指向"><a href="#3-call-apply-可以改变函数运行时this指向" class="headerlink" title="3.call/apply 可以改变函数运行时this指向"></a>3.call/apply 可以改变函数运行时this指向</h2><h2 id="4-obj-f-f-里面的this指向obj"><a href="#4-obj-f-f-里面的this指向obj" class="headerlink" title="4.obj.f();   f()里面的this指向obj)"></a>4.obj.f();   f()里面的this指向obj)</h2><p>谁调用的方法，this就指向谁，如果没人调用这个方法，空执行，this是window</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">a</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)<span class="hljs-comment">//谁调用，就用谁的name </span><br>    &#125;,<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span><br>&#125;<br>obj.a();<span class="hljs-comment">//obj调用</span><br></code></pre></td></tr></table></figure>

<h2 id="5-this题"><a href="#5-this题" class="headerlink" title="5.this题"></a>5.this题</h2><p>条件判断为假的情况有： 0 、false 、’’ 、 null 、undefined 、未定义对象。<br>函数声明写在运算符中，其为 true，但 放在运算符中的函数声明在执行阶段时找不到的 。<br>另外，对未声明的变量执行 typeof 不会报错，会返回 undefined</p>
<p>this一马平川题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;222&quot;</span>;<br><span class="hljs-keyword">var</span> a = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;111&quot;</span>,<br>    <span class="hljs-attr">say</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> fun = a.say;<span class="hljs-comment">//a.say代表function的函数引用，fun在全局上执行，相当于函数在全局执行</span><br>fun()<span class="hljs-comment">//222全局执行也没人调用</span><br>a.say()<span class="hljs-comment">//111</span><br><span class="hljs-keyword">var</span> b = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;333&quot;</span>,<br>    <span class="hljs-attr">say</span> : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>)</span>&#123;<br>        <span class="hljs-comment">//this----&gt;b</span><br>        fun();<span class="hljs-comment">//不是this.fun(),谁也没调用,预编译，上面得this---&gt;window,222</span><br>    &#125;<br>&#125;<br>b.say(a.say);<span class="hljs-comment">//a.say---是上面的函数体，       222</span><br>b.say = a.say;<span class="hljs-comment">//a.say上面的函数拷贝到b.say(代替b.say)</span><br>b.say();<span class="hljs-comment">//333</span><br></code></pre></td></tr></table></figure>


<h1 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h1><blockquote>
<p>arguments.callee</p>
</blockquote>
<blockquote>
<p>func.caller</p>
</blockquote>
<p>arguments</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br> 	<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br> &#125;<br>test();<span class="hljs-comment">//返回自己的函数体</span><br></code></pre></td></tr></table></figure>

<p>应用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>&#123;<br>    <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> n*阶乘(n-<span class="hljs-number">1</span>);<br>&#125;(<span class="hljs-number">100</span>))	<br></code></pre></td></tr></table></figure>

<p>立即执行函数的阶乘：只能用callee做</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>&#123;<br>    <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> n*<span class="hljs-built_in">arguments</span>.callee(n-<span class="hljs-number">1</span>);<br>&#125;(<span class="hljs-number">100</span>))<br></code></pre></td></tr></table></figure>

<p>在那个函数里面，就打印哪个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">demo</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br>    &#125;<br>    demo();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>caller: demo在哪个环境调用的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span> (<span class="hljs-params"></span>) </span>&#123;<br>	demo();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">demo</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(demo.caller);<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>


<h1 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h1><h2 id="1-浅层克隆"><a href="#1-浅层克隆" class="headerlink" title="1.浅层克隆"></a>1.浅层克隆</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&#x27;female&#x27;</span><br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">origin,target</span>)</span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin)&#123;<br>        target[prop] = origin[prop];<br>    &#125;<br>&#125;<br>clone(obj,obj1);<br><span class="hljs-comment">//打印obj1显示已经copy过去了</span><br></code></pre></td></tr></table></figure>

<p>实现容错：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&#x27;female&#x27;</span><br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">origin,target</span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> target = target || &#123;&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin)&#123;<br>        target[prop] = origin[prop];<br>    &#125;<br>    <span class="hljs-keyword">return</span> target;<br>&#125;<br>clone(obj,obj1);<br></code></pre></td></tr></table></figure>

<p>原始值没问题，但是引用值拷贝：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&#x27;female&#x27;</span>,<br>    <span class="hljs-attr">card</span> : [<span class="hljs-string">&#x27;visa&#x27;</span>, <span class="hljs-string">&#x27;unionpay&#x27;</span>]<br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params">origin,target</span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> target = target || &#123;&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin)&#123;<br>        target[prop] = origin[prop];<br>    &#125;<br>    <span class="hljs-keyword">return</span> target;<br>&#125;<br>clone(obj,obj1);<br></code></pre></td></tr></table></figure>

<h2 id="2-深层克隆"><a href="#2-深层克隆" class="headerlink" title="2.深层克隆"></a>2.深层克隆</h2><p>两个人，克隆，只考虑引用值的数组、对象    核心：区分数组和对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&#x27;female&#x27;</span>,<br>    <span class="hljs-attr">card</span> : [<span class="hljs-string">&#x27;visa&#x27;</span>,<span class="hljs-string">&#x27;unionpay&#x27;</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]]<br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;<br>    <span class="hljs-attr">card</span> : [obj.card[<span class="hljs-number">0</span>],obj.card[<span class="hljs-number">1</span>],[]]<br>&#125;<br>clone(obj, obj1);<br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">card</span> : [<span class="hljs-string">&#x27;visa&#x27;</span>, <span class="hljs-string">&#x27;master&#x27;</span>],<br>    <span class="hljs-attr">wife</span> : &#123;<br>        <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;bcd&quot;</span>,<br>        <span class="hljs-attr">son</span> : &#123;<br>            <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;aaa&quot;</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;<br>    <span class="hljs-attr">name</span> : obj.name,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">card</span> : []<span class="hljs-comment">//重新开始循环，发现里面都是原始值，card : [obj.card[0],obj.card[1]],</span><br>    <span class="hljs-attr">wife</span> : &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;bcd&quot;</span>,<br>    <span class="hljs-attr">son</span> : &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;bcd&quot;</span>,<br>    <span class="hljs-attr">son</span> : <br>&#125;<br>&#125;<span class="hljs-comment">//里面是不是原始值，第一个是，第二个不是， 建立新的对象,进行循环</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>遍历对象 for(var prop in obj)<br>遍历除了可以遍历对象，还可以遍历数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> arr) &#123;<br>    arr[prop]<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>步骤：</p>
</blockquote>
<p>1.判断是不是原始值 typeof()如果是object引用值，不是obj,基本是原始值 null最后讲<br>2.数组还是对象 三种方法: instanceof toString constructor,建议使用toString,因为<br>另外两个有小问题，不会遇到<br>父子域：一个页面里面可能还有个子页面    跨父子域   [] instanceof Array ——&gt;false应该ture<br>3.建立相应的数组和对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// 递归</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">origin,target</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> target = target || &#123;&#125;;<span class="hljs-comment">//容错</span><br>    toStr = <span class="hljs-built_in">Object</span>.prototype.toString,<br>        arrStr = <span class="hljs-string">&quot;[object Array]&quot;</span>;<span class="hljs-comment">//比对</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>代码实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">card</span> : [<span class="hljs-string">&#x27;visa&#x27;</span>, <span class="hljs-string">&#x27;master&#x27;</span>],<br>    <span class="hljs-attr">wife</span> : &#123;<br>        <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;bcd&quot;</span>,<br>        <span class="hljs-attr">son</span> : &#123;<br>            <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;aaa&quot;</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">var</span> obj1 = &#123;<br><br>&#125;       <br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">origin,target</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> target = target || &#123;&#125;;<span class="hljs-comment">//容错</span><br>    toStr = <span class="hljs-built_in">Object</span>.prototype.toString,<br>        arrStr = <span class="hljs-string">&quot;[object Array]&quot;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin) &#123;<br>        <span class="hljs-keyword">if</span>(origin.hasOwnProperty(prop)) &#123;<span class="hljs-comment">//防止原型链上的</span><br>            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span>(origin[prop]) == <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>                <span class="hljs-keyword">if</span>(toStr.call(origin[prop]) == arrStr) &#123;<br>                    target[prop] = [];<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    target[prop] = &#123;&#125;;<br>                &#125;<br>                deepClone(origin[prop],target[prop]);<span class="hljs-comment">//递归</span><br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                target[prop] = origin[prop];<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> target;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>优化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">origin, target</span>)</span>&#123;<br>        <span class="hljs-keyword">var</span> target = target || &#123;&#125;,<br>            toStr = <span class="hljs-built_in">Object</span>.prototype.toString,<br>            arrStr = <span class="hljs-string">&quot;[object Array]&quot;</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin) &#123;<br>            <span class="hljs-keyword">if</span>(origin.hasOwnProperty(prop)) &#123;<span class="hljs-comment">//null问题</span><br>                <span class="hljs-keyword">if</span>(origin[prop] !== <span class="hljs-string">&quot;null&quot;</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(origin[prop]) == <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>                    <span class="hljs-comment">//绝对不等于，隐式类型转换也不行</span><br>                    <span class="hljs-keyword">if</span>(toStr.call(origin[prop]) == arrStr) &#123;<br>                        target[prop] == [];<br>                    &#125;<span class="hljs-keyword">else</span>&#123;<br>                        target[prop] = &#123;&#125;;<br>                    &#125;<br>                    deepClone(origin[prop],target[prop]);<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    target[prop] = origin[prop];<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> target;<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>三目运算符简化代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">origin, target</span>)</span>&#123;<br>        <span class="hljs-keyword">var</span> target = target || &#123;&#125;,<br>            toStr = <span class="hljs-built_in">Object</span>.prototype.toString,<br>            arrStr = <span class="hljs-string">&quot;[object Array]&quot;</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> origin) &#123;<br>            <span class="hljs-keyword">if</span>(origin.hasOwnProperty(prop)) &#123;<span class="hljs-comment">//null问题</span><br>                <span class="hljs-keyword">if</span>(origin[prop] !== <span class="hljs-string">&quot;null&quot;</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(origin[prop]) == <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>                    <span class="hljs-comment">//绝对不等于，隐式类型转换也不行</span><br><br>                    target[prop] = (toStr.call(origin[prop]) == arrStr) ? [] : &#123;&#125;;<br>                    deepClone(origin[prop],target[prop]);<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    target[prop] = origin[prop];<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> target;<br>    &#125;<br></code></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>数组的定义</p>
<p>区分对象的定义方式<br>（1）    自面量<br>（2）    构造函数——系统自带<br>（3）    自定义构造函数<br>（4）    Var Obect.create()</p>
<p>数组<br>1.数组字面量   var arr = [];</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,,,<span class="hljs-number">5</span>];<span class="hljs-comment">//稀松数组</span><br></code></pre></td></tr></table></figure>

<p>2.new Array(length/content);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">构造方法   <span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>);<br></code></pre></td></tr></table></figure>

<p>区别</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">10</span>);<span class="hljs-comment">//返回长度为10的稀松数组</span><br><span class="hljs-keyword">var</span> arr1 = [<span class="hljs-number">10</span>]; <br><span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">10.2</span>);<span class="hljs-comment">//长度为10.2 报错</span><br></code></pre></td></tr></table></figure>

<p>数组的读和写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS">arr[num] <span class="hljs-comment">//不可以溢出读   结果undefined</span><br>arr[num] = xxx;<span class="hljs-comment">//可以溢出写，撑长数组</span><br></code></pre></td></tr></table></figure>

<p>JS中，数组就算没有第10位也不报错，因为数组是基于对象的<br>数组常用的方法</p>
<h2 id="1-改变原数组7个"><a href="#1-改变原数组7个" class="headerlink" title="1.改变原数组7个"></a>1.改变原数组7个</h2><p>reverse,sort,push,pop,shift,unshift,</p>
<blockquote>
<p>push把数组的最后一位增加</p>
</blockquote>
<p>封装push()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-built_in">Array</span>.prototype.push = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;<span class="hljs-comment">//不能写形参，因为不知道有几个，所以只能用arguments</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) &#123;<br>        <span class="hljs-built_in">this</span>[<span class="hljs-built_in">this</span>.length] = <span class="hljs-built_in">arguments</span>[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.length;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>pop删除：把数组的最后一位剪切出去</p>
</blockquote>
<p>arr.pop(); 不能传参</p>
<blockquote>
<p>shift：把前面减 arr.shift()    </p>
</blockquote>
<blockquote>
<p>unshift:和push方向相反，在前面加东西</p>
</blockquote>
<p>封装unshift</p>
<p>数组不能向前面放东西，所以用新数组，在拼接起来(concat)</p>
<blockquote>
<p>reverse:逆反</p>
</blockquote>
<blockquote>
<p>sort</p>
</blockquote>
<p>arr.sort();//升序排序</p>
<p>arr.sort().reverse()//降序</p>
<p><strong>但是这个排序是按ASCII排的</strong>，so<br>var arr = [1,2,10,2,4,5];不能实现想要的排序<br>实现排序：(冒泡排序)<br>1.必须两个形参<br>2.看返回值</p>
<p> (1)返回值为负数，前面的数放在前面<br> (2)为正数，后面的数在前<br> (3)为0，不动</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span>(a &gt; b) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;);				 	  	<br></code></pre></td></tr></table></figure>

<p>简化代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS">arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span>(a - b &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> a - b;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> a - b;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>最终</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS">arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> a - b;<span class="hljs-comment">//升序</span><br>    <span class="hljs-comment">//return b - a;//降序</span><br>&#125;);<br></code></pre></td></tr></table></figure>

<p>给一个有序数组乱序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">Math</span>.random()    返回(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)随机数<br><span class="hljs-comment">// var arr = [1,2,3,4,5,6,7];</span><br><span class="hljs-comment">// arr.sort(function () &#123;</span><br><span class="hljs-comment">// 	return Math.random() - 0.5;//实现可正可负</span><br><span class="hljs-comment">// &#125;);</span><br></code></pre></td></tr></table></figure>

<p>对象年龄排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> cheng = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;cheng&quot;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">18</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-string">&#x27;male&#x27;</span>,<br>    <span class="hljs-attr">face</span> : <span class="hljs-string">&quot;handsome&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> deng = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;deng&quot;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">40</span>,<br>    <span class="hljs-attr">sex</span> : <span class="hljs-literal">undefined</span>,<br>    <span class="hljs-attr">face</span> : <span class="hljs-string">&quot;amazing&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> zhang = &#123;<br>    name = <span class="hljs-string">&quot;zhang&quot;</span>,<br>    age = <span class="hljs-number">20</span>,<br>    sex = <span class="hljs-string">&quot;male&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> arr = [cheng, deng, zhang];<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>&#123;<br>    <span class="hljs-comment">// if(a.age &gt; b.age) &#123;</span><br>    <span class="hljs-comment">// 	return 1;</span><br>    <span class="hljs-comment">// &#125;else&#123;</span><br>    <span class="hljs-comment">// 	return -1;</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-keyword">return</span> a.age - b.age;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>字符串长度排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;ac&#x27;</span>,<span class="hljs-string">&#x27;bcd&#x27;</span>,<span class="hljs-string">&#x27;cccc&#x27;</span>,<span class="hljs-string">&#x27;asfsadshilk&#x27;</span>,<span class="hljs-string">&#x27;casuicbniasbnciuas&#x27;</span>];<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>)</span>&#123;<br>    <span class="hljs-keyword">return</span> a.length - b.length;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>字节长度排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">retBytes</span>(<span class="hljs-params">str</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> num = str.length;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++)&#123;<br>        <span class="hljs-keyword">if</span>(str.charCodeAt(i) &gt; <span class="hljs-number">255</span>)&#123;<br>            num ++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> num;<br>&#125;<br><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;a邓&#x27;</span>,<span class="hljs-string">&#x27;ba邓&#x27;</span>,<span class="hljs-string">&#x27;cc邓cc&#x27;</span>,<span class="hljs-string">&#x27;老邓&#x27;</span>,<span class="hljs-string">&quot;残邓&quot;</span>,<span class="hljs-string">&#x27;asdoifqwoeiur&#x27;</span>,<span class="hljs-string">&#x27;asdf&#x27;</span>];<br>arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>)</span>&#123;<br>    <span class="hljs-keyword">return</span> retBytes(a)-retBytes(b);<br>&#125;)<br></code></pre></td></tr></table></figure>

<blockquote>
<p>splice:切片</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// arr.splice(从第几位开始，剪切多少长度，在切口处添加新的数据)</span><br>arr.splice(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br>demo<br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>];<br>arr.splice(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br><br><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>];<span class="hljs-comment">//实现把4填进去</span><br>arr.splice(<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">4</span>);<span class="hljs-comment">//鼠标光标在前面</span><br><br><br>arr.splice(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<span class="hljs-comment">//倒数第一位</span><br></code></pre></td></tr></table></figure>

<p>-1倒数第一位；1倒数   第二位怎么实现的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">splice = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">pos</span>) </span>&#123;<br>pos += pos&gt;<span class="hljs-number">0</span>?<span class="hljs-number">0</span>:<span class="hljs-built_in">this</span>.length;	<span class="hljs-comment">//负数</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-不改变原数组"><a href="#2-不改变原数组" class="headerlink" title="2.不改变原数组"></a>2.不改变原数组</h2><p>concat,join—&gt;split,toString</p>
<blockquote>
<ol>
<li>concat连接</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br><span class="hljs-keyword">var</span> arr1 = [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];<br>arr.concat(arr1);<br></code></pre></td></tr></table></figure>

<blockquote>
<p>toString</p>
</blockquote>
<p>把数组变成字符串</p>
<blockquote>
<p>Slice截取</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br><span class="hljs-comment">// 1.两个参数，slice（从该位开始截取，截取到该位）</span><br><span class="hljs-comment">// var newArr = arr.slice(1,3);</span><br><span class="hljs-comment">// 2.一个参数slice（从第几位开始截取，截取到最后）</span><br><span class="hljs-keyword">var</span> newArr = arr.slice(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">var</span> newArr = arr.slice(-<span class="hljs-number">4</span>)<span class="hljs-comment">//-4+6位</span><br><span class="hljs-comment">// 3.没参数：全截取</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>join</p>
</blockquote>
<p>实现字符串连接    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>];<br>arr.join(<span class="hljs-string">&quot;-&quot;</span>)<span class="hljs-comment">//必须是字符串形式</span><br>arr = [<span class="hljs-number">1</span>-<span class="hljs-number">2</span>-<span class="hljs-number">3</span>-<span class="hljs-number">4</span>];<br></code></pre></td></tr></table></figure>

<blockquote>
<p>split()互逆方法：按照什么拆分</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>-<span class="hljs-number">2</span>-<span class="hljs-number">3</span>-<span class="hljs-number">4</span>];<br>arr.split(<span class="hljs-string">&quot;3&quot;</span>)<span class="hljs-comment">//必须是字符串形式</span><br></code></pre></td></tr></table></figure>

<h1 id="类数组"><a href="#类数组" class="headerlink" title="类数组"></a>类数组</h1><p>是对象，可以当数组一样用</p>
<blockquote>
<p>类数组<br>1.可以利用属性名模拟数组的特性<br>2.可以动态的增长length属性<br>3.如果强行让类数组调用push方法，则会根据length属性值的位置进行属性的扩充。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>);<br>    <span class="hljs-built_in">arguments</span>.push(<span class="hljs-number">7</span>);<span class="hljs-comment">//报错</span><br>&#125;<br>test(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>);<br></code></pre></td></tr></table></figure>

<p>现象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//完成类数组的基本形态构建</span><br><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-string">&quot;0&quot;</span> : <span class="hljs-string">&#x27;a&#x27;</span>,<br>    <span class="hljs-string">&quot;1&quot;</span> : <span class="hljs-string">&#x27;b&#x27;</span>,<br>    <span class="hljs-string">&quot;2&quot;</span> : <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&quot;length&quot;</span> : <span class="hljs-number">3</span>,<br>    <span class="hljs-string">&quot;push&quot;</span> : <span class="hljs-built_in">Array</span>.prototype.push<br>&#125;<br>obj.push(<span class="hljs-string">&#x27;d&#x27;</span>);<br><span class="hljs-comment">//导致length=4并且&quot;3&quot;:d</span><br></code></pre></td></tr></table></figure>

<p>类数组：是对象，可以当数组一样用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-string">&quot;0&quot;</span> : <span class="hljs-string">&#x27;a&#x27;</span>,<br>    <span class="hljs-string">&quot;1&quot;</span> : <span class="hljs-string">&#x27;b&#x27;</span>,<br>    <span class="hljs-string">&quot;2&quot;</span> : <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&quot;length&quot;</span> : <span class="hljs-number">3</span>,<br>    <span class="hljs-string">&quot;push&quot;</span> : <span class="hljs-built_in">Array</span>.prototype.push,<br>    <span class="hljs-string">&quot;splice&quot;</span> : <span class="hljs-built_in">Array</span>.prototype.splice<span class="hljs-comment">//加上他就变成可以当数组用了,像数组了</span><br>&#125;<br><span class="hljs-comment">//类数组组成部分:属性要为索引（数字）属性，必须有length属性，最好加上push</span><br></code></pre></td></tr></table></figure>

<p>length内部操作手法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">Array</span>.prototype.push = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>[<span class="hljs-built_in">this</span>.length] = target;<br>    <span class="hljs-built_in">this</span>.length ++;<br>&#125;<br><span class="hljs-comment">//如果对象调用，则</span><br><span class="hljs-built_in">Array</span>.prototype.push = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target</span>) </span>&#123;<br>    obj[obj.length] = target;<br>    obj.length ++;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>类数组所有元素遍历出来</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-string">&quot;0&quot;</span> : <span class="hljs-string">&quot;a&quot;</span>,<br>    <span class="hljs-string">&quot;1&quot;</span> : <span class="hljs-string">&quot;b&quot;</span>,<br>    <span class="hljs-string">&quot;2&quot;</span> : <span class="hljs-string">&quot;c&quot;</span>,<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;abc&quot;</span>,<br>    <span class="hljs-attr">age</span> : <span class="hljs-number">123</span>,<br>    <span class="hljs-attr">length</span> : <span class="hljs-number">3</span>,<br>    <span class="hljs-attr">push</span> : <span class="hljs-built_in">Array</span>.prototype.push,<br>    <span class="hljs-attr">splice</span> : <span class="hljs-built_in">Array</span>.prototype.splice<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> obj)&#123;<br>    <span class="hljs-built_in">console</span>.log(obj[prop])<br>&#125;<br></code></pre></td></tr></table></figure>

<p>封装type</p>
<p>typeof([])– array<br>typeof({})– object<br>typeof(function)– function<br>typeof(new Number())– new Object<br>typeof(123)– number<br>分两类：1、原始值 引用值   2、区分引用值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">type</span>(<span class="hljs-params">target</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> template = &#123;<br>        <span class="hljs-string">&quot;[object Array]&quot;</span> : <span class="hljs-string">&quot;array&quot;</span>,<br>        <span class="hljs-string">&quot;[object Object]&quot;</span> : <span class="hljs-string">&quot;object&quot;</span>,<br>        <span class="hljs-string">&quot;[object Number]&quot;</span> : <span class="hljs-string">&quot;number - object&quot;</span>,<br>        <span class="hljs-string">&quot;[object Boolean]&quot;</span> : <span class="hljs-string">&#x27;boolean - object&#x27;</span>,<br>        <span class="hljs-string">&quot;[object String]&quot;</span> : <span class="hljs-string">&#x27;string - object&#x27;</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(target === <span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;null&quot;</span>;<br>    &#125;<br>    <span class="hljs-comment">// if(typeof(target) == &#x27;function&#x27;) &#123;</span><br>    <span class="hljs-comment">// 	return &#x27;function&#x27;;</span><br>    <span class="hljs-comment">// &#125;else if(typeof(target) == &quot;object&quot;) = &#123;</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span>(target) == <span class="hljs-string">&quot;object&quot;</span>)&#123;<br>        <span class="hljs-comment">// 数组；</span><br>        <span class="hljs-comment">// 对象；</span><br>        <span class="hljs-comment">// 包装类Object.prototype.toString</span><br>        <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">Object</span>.prototype.toString.call(target);<br>        <span class="hljs-keyword">return</span> template[str];<br>    &#125;<span class="hljs-keyword">else</span>&#123;<span class="hljs-comment">//原始值</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span>(target);<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>数组去重，在原型链上编程​    hash哈西         </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];<br><span class="hljs-built_in">Array</span>.prototype.unique = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> temp = &#123;&#125;,<br>        arr = [],<br>        len = <span class="hljs-built_in">this</span>.length;<span class="hljs-comment">//也是优化，不用每次都this了</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;<br>        <span class="hljs-keyword">if</span>(!temp[<span class="hljs-built_in">this</span>[i]]) &#123;<span class="hljs-comment">//如果有0，!0==true，所以还是&quot;abc&quot;吧</span><br>            temp[<span class="hljs-built_in">this</span>[i]] = <span class="hljs-string">&quot;abc&quot;</span>;<br>            arr.push(<span class="hljs-built_in">this</span>[i]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>


<h1 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h1><p>形式：判断语句? 若为真，执行，并返回结果：若为假，执行，并返回结果<br>三目运算符其实就是简化版的if(){…}else{}语句<br>条件判断？是 ：否 并且会返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> num = <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">2</span> + <span class="hljs-number">2</span> : <span class="hljs-number">1</span> + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> num = <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span> ? (<span class="hljs-string">&quot;10&quot;</span> &gt; <span class="hljs-string">&quot;9&quot;</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) : <span class="hljs-number">2</span>;	<br></code></pre></td></tr></table></figure>

<h1 id="try…catch"><a href="#try…catch" class="headerlink" title="try…catch"></a>try…catch</h1><p>try{}catch(e) {}一行代码报错影响后面代码执行</p>
<p>finally{}</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//try...catch</span><br><span class="hljs-keyword">try</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>);<br>    <span class="hljs-built_in">console</span>.log(b);<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">catch</span>(e) &#123;<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;d&#x27;</span>);<br><span class="hljs-comment">//执行到b就不执行了，在try里面发生的错误，不会执行错误后的try里面的代码，打印ad</span><br></code></pre></td></tr></table></figure>

<p>关于catch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">try</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>);<br>    <span class="hljs-built_in">console</span>.log(b);<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>);<br>&#125;<span class="hljs-keyword">catch</span>(e)&#123;<span class="hljs-comment">//error  error.message  error.name ---&gt; error</span><br>    <span class="hljs-built_in">console</span>.log(e.name + <span class="hljs-string">&quot; : &quot;</span> + e.message);	<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;d&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>小问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">try</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>);<br>    <span class="hljs-built_in">console</span>.log(b);<br>    <span class="hljs-built_in">console</span>.log(c);<span class="hljs-comment">//虽然错误，但是不执行</span><br>&#125;<span class="hljs-keyword">catch</span>(e)&#123;<br>    <span class="hljs-built_in">console</span>.log(e.name + <span class="hljs-string">&quot; : &quot;</span> + e.message);	<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;d&#x27;</span>);<br></code></pre></td></tr></table></figure>
<p>Error.name的六种值对应的信息：<br>1.EvalError：eval()的使用与定义不一致<br>2.RangeError：数值越界<br>3.ReferenceError：非法或不能识别的引用数值<br>4.SyntaxError：发生语法解析错误<br>5.TypeError：操作数类型错误<br>6.URIError：URI处理函数使用不当</p>
<h1 id="es5严格模式"><a href="#es5严格模式" class="headerlink" title="es5严格模式"></a>es5严格模式</h1><p>如今：基于es3.0+<strong>es5.0的新增方法</strong> 使用的，如果产生冲突，则遵循es3.0的<br>要讲的是怎么让他遵循es5.0解决，即es5.0的严格模式，则产生冲突的部分用es5.0，否则es3.0<br>“use strict”<br>不再兼容es3的一些不规则语法。使用全新的es5规范。<br>demo1：es5不允许使用arguments.callee</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// es5.0严格模式的启动</span><br><span class="hljs-meta">&quot;use strict&quot;</span><span class="hljs-comment">//放在逻辑的最顶端</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<p>demo2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">demo</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br>&#125;<br>demo();<span class="hljs-comment">//es3.0</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br><span class="hljs-meta">    &quot;use strict&quot;</span><span class="hljs-comment">//内部es5.0</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">arguments</span>.callee);<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<p>两种用法：<br>全局严格模式<br>局部函数内严格模式（推荐）<br>就是一行字符串，不会对不兼容严格模式的浏览器产生影响<br>为什么用字符串”use strict”：可能在老浏览器执行，浏览器版本问题——向后兼容<br>es5不允许用with(){}  with可以改变作用域链，with(obj) obj作为最顶端的AO</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;obj&quot;</span><br>&#125;<br><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;window&#x27;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;scope&#x27;</span>;<br>    <span class="hljs-function"><span class="hljs-title">with</span>(<span class="hljs-params">obj</span>)</span> &#123;<span class="hljs-comment">//如果with里面添加了对象，with(obj),会把对象当做with要执行的代码体的作用域链的最顶端</span><br>        <span class="hljs-built_in">console</span>.log(name);<br>    &#125;<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<p>演示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;obj&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-number">234</span><br>&#125;<br><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;window&quot;</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> age = <span class="hljs-number">123</span>;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;scope&quot;</span>;<br>    <span class="hljs-function"><span class="hljs-title">with</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(name);<span class="hljs-comment">//obj</span><br>        <span class="hljs-built_in">console</span>.log(age);<span class="hljs-comment">//234</span><br>    &#125;<br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<p>with作用：简化代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">var</span> org = &#123;<br>    <span class="hljs-attr">dp1</span> : &#123;<br>        <span class="hljs-attr">jc</span> : &#123;<br>            <span class="hljs-attr">name</span> : <span class="hljs-string">&#x27;abc&#x27;</span>,<br>            <span class="hljs-attr">age</span> : <span class="hljs-number">123</span><br>        &#125;,<br>        <span class="hljs-attr">deng</span> : &#123;<br>            <span class="hljs-attr">name</span> : <span class="hljs-string">&quot;xiaodneg&quot;</span>,<br>            <span class="hljs-attr">age</span> : <span class="hljs-number">234</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">dp2</span> : &#123;<br><br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-title">with</span>(<span class="hljs-params">org.dp1.jc</span>)</span> &#123;<span class="hljs-comment">//直接访问org.dp1.jc里面的</span><br>    <span class="hljs-built_in">console</span>.log(name);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>应用：document也是对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-built_in">document</span>&#123;<br>    <span class="hljs-attr">write</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-title">with</span>(<span class="hljs-params"><span class="hljs-built_in">document</span></span>)</span> &#123;<br>    write(<span class="hljs-string">&#x27;a&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>不支持with,arguments.callee,func.caller,变量赋值前必须声明，局部this必须被赋值,(Person.call(null/undefined) 赋值什么就是什么),拒绝重复属性和参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<span class="hljs-comment">//undefined</span><br>&#125;<br>test();<br></code></pre></td></tr></table></figure>

<p>new了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<span class="hljs-comment">//控制台显示constructor的名</span><br>&#125;<br><span class="hljs-keyword">new</span> Test();<br></code></pre></td></tr></table></figure>

<p>预编译在es5严格模式下this不在指向window，没有指向（空），this必须被赋值，赋值什么就是什么</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>&#125;<br>Test.call(&#123;&#125;);<br></code></pre></td></tr></table></figure>

<p>赋值123</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>&#125;<br>Test.call(<span class="hljs-number">123</span>);<br></code></pre></td></tr></table></figure>

<p>123是原始值:ES3就会变成包装类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>&#125;<br>Test.call(<span class="hljs-number">123</span>);<br></code></pre></td></tr></table></figure>

<p>严格模式，在全局，this指向window</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br></code></pre></td></tr></table></figure>

<p>es5拒绝重复<strong>属性和参数</strong>。。es3里面重复属性和参数是不报错的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span> (<span class="hljs-params">name , name</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(name);<br>&#125;<br><span class="hljs-comment">//test(1,2);</span><br><span class="hljs-comment">//test(2);</span><br></code></pre></td></tr></table></figure>

<p>参数报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span> (<span class="hljs-params">name , name</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(name);<br>&#125;<br>test(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure>

<p>属性不报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span><br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;112&#x27;</span>,<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;111&#x27;</span><br>&#125;<br>test(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure>

<p>关于eval：</p>
<ol>
<li><p>es3不能用eval();——能改变作用域</p>
</li>
<li><p>eval能执行字符串</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-meta">&quot;use strict&quot;</span>;<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>;<br><span class="hljs-built_in">eval</span>(<span class="hljs-string">&#x27;console.log(a)&#x27;</span>);<span class="hljs-comment">//字符串在eval里面执行</span><br></code></pre></td></tr></table></figure>

<p>面试题：为什么不用with();</p>
<p>with可以改变作用域链，改变作用域链，都会降低效率</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/10/15/DOM-BOM/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">DOM BOM</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/10/15/%E9%97%AD%E5%8C%85/">
                        <span class="hidden-mobile">闭包</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
